{"ast":null,"code":"// This is subscribe APIs.\nimport { useEffect, useRef, useState } from 'react';\nimport debugLog from '../libs/log';\nimport { getSystemInfo } from '../libs/services';\nexport const useConfigs = () => {\n  const ref = useRef(null);\n  const [value, setValue] = useState({\n    returnValue: false\n  });\n  useEffect(() => {\n    if (!ref.current) {\n      debugLog('GET_CONFIGS[R]', {});\n      ref.current = getSystemInfo({\n        parameters: {\n          subscribe: true,\n          keys: ['modelName', 'firmwareVersion', 'UHD', 'sdkVersion']\n        },\n        onSuccess: res => {\n          debugLog('GET_CONFIGS[S]', res);\n          setValue(res);\n        },\n        onFailure: err => {\n          debugLog('GET_CONFIGS[F]', err);\n        }\n      });\n    }\n    return () => {\n      if (ref.current) {\n        ref.current.cancel();\n        ref.current = null;\n      }\n    };\n  }, []);\n  return value;\n};","map":{"version":3,"names":["useEffect","useRef","useState","debugLog","getSystemInfo","useConfigs","ref","value","setValue","returnValue","current","parameters","subscribe","keys","onSuccess","res","onFailure","err","cancel"],"sources":["/home/islab/LGEE/project/frontend/src/hooks/configs.js"],"sourcesContent":["// This is subscribe APIs.\nimport {useEffect, useRef, useState} from 'react';\n\nimport debugLog from '../libs/log';\nimport {getSystemInfo} from '../libs/services';\n\nexport const useConfigs = () => {\n\tconst ref = useRef(null);\n\tconst [value, setValue] = useState({returnValue: false});\n\n\tuseEffect(() => {\n\t\tif (!ref.current) {\n\t\t\tdebugLog('GET_CONFIGS[R]', {});\n\t\t\tref.current = getSystemInfo({\n\t\t\t\tparameters: {\n\t\t\t\t\tsubscribe: true,\n\t\t\t\t\tkeys: ['modelName', 'firmwareVersion', 'UHD', 'sdkVersion']\n\t\t\t\t},\n\t\t\t\tonSuccess: res => {\n\t\t\t\t\tdebugLog('GET_CONFIGS[S]', res);\n\t\t\t\t\tsetValue(res);\n\t\t\t\t},\n\t\t\t\tonFailure: err => {\n\t\t\t\t\tdebugLog('GET_CONFIGS[F]', err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (ref.current) {\n\t\t\t\tref.current.cancel();\n\t\t\t\tref.current = null;\n\t\t\t}\n\t\t};\n\t}, []);\n\n\treturn value;\n};\n"],"mappings":"AAAA;AACA,SAAQA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAO,OAAO;AAEjD,OAAOC,QAAQ,MAAM,aAAa;AAClC,SAAQC,aAAa,QAAO,kBAAkB;AAE9C,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAC/B,MAAMC,GAAG,GAAGL,MAAM,CAAC,IAAI,CAAC;EACxB,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC;IAACO,WAAW,EAAE;EAAK,CAAC,CAAC;EAExDT,SAAS,CAAC,MAAM;IACf,IAAI,CAACM,GAAG,CAACI,OAAO,EAAE;MACjBP,QAAQ,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;MAC9BG,GAAG,CAACI,OAAO,GAAGN,aAAa,CAAC;QAC3BO,UAAU,EAAE;UACXC,SAAS,EAAE,IAAI;UACfC,IAAI,EAAE,CAAC,WAAW,EAAE,iBAAiB,EAAE,KAAK,EAAE,YAAY;QAC3D,CAAC;QACDC,SAAS,EAAEC,GAAG,IAAI;UACjBZ,QAAQ,CAAC,gBAAgB,EAAEY,GAAG,CAAC;UAC/BP,QAAQ,CAACO,GAAG,CAAC;QACd,CAAC;QACDC,SAAS,EAAEC,GAAG,IAAI;UACjBd,QAAQ,CAAC,gBAAgB,EAAEc,GAAG,CAAC;QAChC;MACD,CAAC,CAAC;IACH;IAEA,OAAO,MAAM;MACZ,IAAIX,GAAG,CAACI,OAAO,EAAE;QAChBJ,GAAG,CAACI,OAAO,CAACQ,MAAM,CAAC,CAAC;QACpBZ,GAAG,CAACI,OAAO,GAAG,IAAI;MACnB;IACD,CAAC;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOH,KAAK;AACb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}