{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Video\", {\n  enumerable: true,\n  get: function get() {\n    return _Video[\"default\"];\n  }\n});\nexports[\"default\"] = exports.VideoPlayerBase = exports.VideoPlayer = void 0;\nvar _ApiDecorator = _interopRequireDefault(require(\"@enact/core/internal/ApiDecorator\"));\nvar _dispatcher = require(\"@enact/core/dispatcher\");\nvar _util = require(\"@enact/core/util\");\nvar _handle = require(\"@enact/core/handle\");\nvar _keymap = require(\"@enact/core/keymap\");\nvar _platform = require(\"@enact/core/platform\");\nvar _propTypes = _interopRequireDefault(require(\"@enact/core/internal/prop-types\"));\nvar _I18nDecorator = require(\"@enact/i18n/I18nDecorator\");\nvar _util2 = require(\"@enact/i18n/util\");\nvar _spotlight = require(\"@enact/spotlight\");\nvar _SpotlightContainerDecorator = require(\"@enact/spotlight/SpotlightContainerDecorator\");\nvar _Spottable = require(\"@enact/spotlight/Spottable\");\nvar _Announce = _interopRequireDefault(require(\"@enact/ui/AnnounceDecorator/Announce\"));\nvar _ComponentOverride = _interopRequireDefault(require(\"@enact/ui/ComponentOverride\"));\nvar _FloatingLayer = require(\"@enact/ui/FloatingLayer\");\nvar _FloatingLayerDecorator = require(\"@enact/ui/FloatingLayer/FloatingLayerDecorator\");\nvar _ForwardRef = _interopRequireDefault(require(\"@enact/ui/ForwardRef\"));\nvar _Media = _interopRequireDefault(require(\"@enact/ui/Media\"));\nvar _Slottable = _interopRequireDefault(require(\"@enact/ui/Slottable\"));\nvar _Touchable = _interopRequireDefault(require(\"@enact/ui/Touchable\"));\nvar _DurationFmt = _interopRequireDefault(require(\"ilib/lib/DurationFmt\"));\nvar _equals = _interopRequireDefault(require(\"ramda/src/equals\"));\nvar _propTypes2 = _interopRequireDefault(require(\"prop-types\"));\nvar _react = require(\"react\");\nvar _$L = _interopRequireDefault(require(\"../internal/$L\"));\nvar _Button = _interopRequireDefault(require(\"../Button\"));\nvar _Skinnable = _interopRequireDefault(require(\"../Skinnable\"));\nvar _Spinner = _interopRequireDefault(require(\"../Spinner\"));\nvar _MediaPlayer = require(\"../MediaPlayer\");\nvar _Overlay = _interopRequireDefault(require(\"./Overlay\"));\nvar _MediaTitle = _interopRequireDefault(require(\"./MediaTitle\"));\nvar _FeedbackContent = _interopRequireDefault(require(\"./FeedbackContent\"));\nvar _FeedbackTooltip = _interopRequireDefault(require(\"./FeedbackTooltip\"));\nvar _Video = _interopRequireDefault(require(\"./Video\"));\nvar _VideoPlayerModule = _interopRequireDefault(require(\"./VideoPlayer.module.css\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _class;\nvar _excluded = [\"playerRef\"],\n  _excluded2 = [\"backButtonAriaLabel\", \"className\", \"disabled\", \"infoComponents\", \"initialJumpDelay\", \"jumpDelay\", \"loading\", \"locale\", \"mediaControlsComponent\", \"no5WayJump\", \"noAutoPlay\", \"noMiniFeedback\", \"noSlider\", \"noSpinner\", \"selection\", \"spotlightDisabled\", \"spotlightId\", \"style\", \"thumbnailComponent\", \"thumbnailSrc\", \"title\", \"videoComponent\"];\n/**\n * Provides Sandstone-themed video player components.\n *\n * @module sandstone/VideoPlayer\n * @exports Video\n * @exports VideoPlayer\n * @exports VideoPlayerBase\n */\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nvar isEnter = (0, _keymap.is)('enter');\nvar isLeft = (0, _keymap.is)('left');\nvar isRight = (0, _keymap.is)('right');\nvar jumpBackKeyCode = 37;\nvar jumpForwardKeyCode = 39;\nvar controlsHandleAboveSelectionKeys = [13, 16777221, jumpBackKeyCode, jumpForwardKeyCode];\nvar getControlsHandleAboveHoldConfig = function getControlsHandleAboveHoldConfig(_ref) {\n  var frequency = _ref.frequency,\n    time = _ref.time;\n  return {\n    events: [{\n      name: 'hold',\n      time: time\n    }],\n    frequency: frequency\n  };\n};\nvar shouldJump = function shouldJump(_ref2, _ref3) {\n  var disabled = _ref2.disabled,\n    no5WayJump = _ref2.no5WayJump;\n  var mediaControlsVisible = _ref3.mediaControlsVisible,\n    sourceUnavailable = _ref3.sourceUnavailable;\n  return !no5WayJump && !mediaControlsVisible && !(disabled || sourceUnavailable);\n};\nvar calcNumberValueOfPlaybackRate = function calcNumberValueOfPlaybackRate(rate) {\n  var pbArray = String(rate).split('/');\n  return pbArray.length > 1 ? parseInt(pbArray[0]) / parseInt(pbArray[1]) : parseFloat(rate);\n};\nvar RootComponent = function RootComponent(_ref4) {\n  var playerRef = _ref4.playerRef,\n    rest = _objectWithoutProperties(_ref4, _excluded);\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", _objectSpread({\n    ref: playerRef\n  }, rest));\n};\nRootComponent.propTypes = {\n  /*\n   * Called with the reference to the mediaControls node.\n   *\n   * @type {Object|Function}\n   * @public\n   */\n  playerRef: _propTypes[\"default\"].ref\n};\nvar SpottableDiv = (0, _Touchable[\"default\"])((0, _Spottable.Spottable)('div'));\nvar RootContainer = (0, _ForwardRef[\"default\"])({\n  prop: 'playerRef'\n}, (0, _SpotlightContainerDecorator.SpotlightContainerDecorator)({\n  enterTo: 'default-element',\n  defaultElement: [\".\".concat(_VideoPlayerModule[\"default\"].controlsHandleAbove), \".\".concat(_VideoPlayerModule[\"default\"].controlsFrame)]\n}, RootComponent));\nvar ControlsContainer = (0, _SpotlightContainerDecorator.SpotlightContainerDecorator)({\n  enterTo: 'default-element',\n  straightOnly: true\n}, 'div');\nvar memoGetDurFmt = (0, _util.memoize)(function /* locale */\n() {\n  return new _DurationFmt[\"default\"]({\n    length: 'medium',\n    style: 'clock',\n    useNative: false\n  });\n});\nvar getDurFmt = function getDurFmt(locale) {\n  if (typeof window === 'undefined') return null;\n  return memoGetDurFmt(locale);\n};\nvar forwardWithState = function forwardWithState(type) {\n  return (0, _handle.adaptEvent)(function () {\n    return {\n      type: type\n    };\n  }, (0, _handle.handle)((0, _handle.adaptEvent)((0, _handle.call)('addStateToEvent'), (0, _handle.forwardWithPrevent)(type))));\n};\nvar forwardToggleMore = (0, _handle.forward)('onToggleMore');\n\n// provide forwarding of events on media controls\nvar forwardControlsAvailable = (0, _handle.forwardCustom)('onControlsAvailable');\nvar forwardPlay = forwardWithState('onPlay');\nvar forwardWillPlay = forwardWithState('onWillPlay');\nvar forwardPause = forwardWithState('onPause');\nvar forwardWillPause = forwardWithState('onWillPause');\nvar forwardRewind = forwardWithState('onRewind');\nvar forwardWillRewind = forwardWithState('onWillRewind');\nvar forwardFastForward = forwardWithState('onFastForward');\nvar forwardWillFastForward = forwardWithState('onWillFastForward');\nvar forwardJumpBackward = forwardWithState('onJumpBackward');\nvar forwardWillJumpBackward = forwardWithState('onWillJumpBackward');\nvar forwardJumpForward = forwardWithState('onJumpForward');\nvar forwardWillJumpForward = forwardWithState('onWillJumpForward');\nvar AnnounceState = {\n  // Video is loaded but additional announcements have not been made\n  READY: 0,\n  // The title should be announced\n  TITLE: 1,\n  // The title has been announce\n  TITLE_READ: 2,\n  // The infoComponents should be announce\n  INFO: 3,\n  // All announcements have been made\n  DONE: 4\n};\n\n/**\n * Every callback sent by {@link sandstone/VideoPlayer|VideoPlayer} receives a status package,\n * which includes an object with the following key/value pairs as the first argument:\n *\n * @typedef {Object} videoStatus\n * @memberof sandstone/VideoPlayer\n * @property {String} type - Type of event that triggered this callback\n * @property {Number} currentTime - Playback index of the media in seconds\n * @property {Number} duration - Media's entire duration in seconds\n * @property {Boolean} paused - Playing vs paused state. `true` means the media is paused\n * @property {Number} playbackRate - Current playback rate, as a number\n * @property {Number} proportionLoaded - A value between `0` and `1` representing the proportion of the media that has loaded\n * @property {Number} proportionPlayed - A value between `0` and `1` representing the proportion of the media that has already been shown\n *\n * @public\n */\n\n/**\n * A set of playback rates when media fast forwards, rewinds, slow-forwards, or slow-rewinds.\n *\n * The number used for each operation is proportional to the normal playing speed, 1. If the rate\n * is less than 1, it will play slower than normal speed, and, if it is larger than 1, it will play\n * faster. If it is negative, it will play backward.\n *\n * The order of numbers represents the incremental order of rates that will be used for each\n * operation. Note that rates can be expressed as decimals, strings, and fractions.\n * (e.g.: `0.5`, `'0.5'`, `'1/2'`).\n *\n * @typedef {Object} playbackRateHash\n * @memberof sandstone/VideoPlayer\n * @property {[]} fastForward - An array of playback rates when media fast forwards\n * @property {[]} rewind - An array of playback rates when media rewinds\n * @property {[]} slowForward - An array of playback rates when media slow-forwards\n * @property {[]} slowRewind - An array of playback rates when media slow-rewinds\n *\n * @public\n */\n\n/**\n * A player for video {@link sandstone/VideoPlayer.VideoPlayerBase}.\n *\n * @class VideoPlayerBase\n * @memberof sandstone/VideoPlayer\n * @ui\n * @public\n */\nvar VideoPlayerBase = (_class = /*#__PURE__*/function (_Component) {\n  _inherits(VideoPlayerBase, _Component);\n  var _super = _createSuper(VideoPlayerBase);\n  function VideoPlayerBase(_props) {\n    var _this;\n    _classCallCheck(this, VideoPlayerBase);\n    _this = _super.call(this, _props);\n\n    // Internal State\n    //\n    // Internal Methods\n    //\n    _this.announceJob = new _util.Job(function (msg, clear) {\n      return _this.announceRef && _this.announceRef.announce(msg, clear);\n    }, 200);\n    _this.announce = function (msg, clear) {\n      _this.announceJob.start(msg, clear);\n    };\n    _this.activityDetected = function () {\n      _this.startAutoCloseTimeout();\n    };\n    _this.startAutoCloseTimeout = function () {\n      // If this.state.more is used as a reference for when this function should fire, timing for\n      // detection of when \"more\" is pressed vs when the state is updated is mismatched. Using an\n      // instance variable that's only set and used for this express purpose seems cleanest.\n      if (_this.props.autoCloseTimeout && _this.state.mediaControlsVisible) {\n        _this.autoCloseJob.startAfter(_this.props.autoCloseTimeout);\n      }\n    };\n    _this.stopAutoCloseTimeout = function () {\n      _this.autoCloseJob.stop();\n    };\n    _this.generateId = function () {\n      return Math.random().toString(36).substr(2, 8);\n    };\n    /**\n     * If the announce state is either ready to read the title or ready to read info, advance the\n     * state to \"read\".\n     *\n     * @returns {Boolean} Returns true to be used in event handlers\n     * @private\n     */\n    _this.markAnnounceRead = function () {\n      if (_this.state.announce === AnnounceState.TITLE) {\n        _this.setState({\n          announce: AnnounceState.TITLE_READ\n        });\n      } else if (_this.state.announce === AnnounceState.INFO) {\n        _this.setState({\n          announce: AnnounceState.DONE\n        });\n      }\n      return true;\n    };\n    /**\n     * Shows media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.showControls = function () {\n      if (_this.props.disabled) {\n        return;\n      }\n      _this.startDelayedFeedbackHide();\n      _this.startDelayedTitleHide();\n      _this.setState(function (_ref5) {\n        var announce = _ref5.announce;\n        if (announce === AnnounceState.READY) {\n          // if we haven't read the title yet, do so this time\n          announce = AnnounceState.TITLE;\n        } else if (announce === AnnounceState.TITLE) {\n          // if we have read the title, advance to INFO so title isn't read again\n          announce = AnnounceState.TITLE_READ;\n        }\n        return {\n          announce: announce,\n          bottomControlsRendered: true,\n          feedbackAction: 'idle',\n          feedbackVisible: true,\n          mediaControlsVisible: true,\n          mediaSliderVisible: true,\n          miniFeedbackVisible: false,\n          titleVisible: true\n        };\n      });\n    };\n    /**\n     * Hides media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.hideControls = function () {\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.stopDelayedTitleHide();\n      _this.stopAutoCloseTimeout();\n      _this.setState({\n        feedbackAction: 'idle',\n        feedbackVisible: false,\n        mediaControlsVisible: false,\n        mediaSliderVisible: false,\n        miniFeedbackVisible: false,\n        infoVisible: false\n      });\n      _this.markAnnounceRead();\n    };\n    /**\n     * Toggles the media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.toggleControls = function () {\n      if (_this.state.mediaControlsVisible) {\n        _this.hideControls();\n      } else {\n        _this.showControls();\n      }\n    };\n    _this.doAutoClose = function () {\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedTitleHide();\n      _this.setState(function (_ref6) {\n        var mediaSliderVisible = _ref6.mediaSliderVisible,\n          miniFeedbackVisible = _ref6.miniFeedbackVisible;\n        return {\n          feedbackVisible: false,\n          mediaControlsVisible: false,\n          mediaSliderVisible: mediaSliderVisible && miniFeedbackVisible,\n          infoVisible: false\n        };\n      });\n      _this.markAnnounceRead();\n    };\n    _this.autoCloseJob = new _util.Job(_this.doAutoClose);\n    _this.startDelayedTitleHide = function () {\n      if (_this.props.titleHideDelay) {\n        _this.hideTitleJob.startAfter(_this.props.titleHideDelay);\n      }\n    };\n    _this.stopDelayedTitleHide = function () {\n      _this.hideTitleJob.stop();\n    };\n    _this.hideTitle = function () {\n      _this.setState({\n        titleVisible: false\n      });\n    };\n    _this.hideTitleJob = new _util.Job(_this.hideTitle);\n    _this.startDelayedFeedbackHide = function () {\n      if (_this.props.feedbackHideDelay) {\n        _this.hideFeedbackJob.startAfter(_this.props.feedbackHideDelay);\n      }\n    };\n    _this.stopDelayedFeedbackHide = function () {\n      _this.hideFeedbackJob.stop();\n    };\n    _this.showFeedback = function () {\n      if (_this.state.mediaControlsVisible) {\n        _this.setState({\n          feedbackVisible: true\n        });\n      } else {\n        var shouldShowSlider = _this.pulsedPlaybackState !== null || calcNumberValueOfPlaybackRate(_this.playbackRate) !== 1;\n        if (_this.showMiniFeedback && (!_this.state.miniFeedbackVisible || _this.state.mediaSliderVisible !== shouldShowSlider)) {\n          _this.setState(function (_ref7) {\n            var loading = _ref7.loading,\n              duration = _ref7.duration,\n              error = _ref7.error;\n            return {\n              mediaSliderVisible: shouldShowSlider && !_this.props.noMediaSliderFeedback,\n              miniFeedbackVisible: !(loading || !duration || error)\n            };\n          });\n        }\n      }\n    };\n    _this.hideFeedback = function () {\n      if (_this.state.feedbackVisible && _this.state.feedbackAction !== 'focus') {\n        _this.setState({\n          feedbackVisible: false,\n          feedbackAction: 'idle'\n        });\n      }\n    };\n    _this.hideFeedbackJob = new _util.Job(_this.hideFeedback);\n    _this.startDelayedMiniFeedbackHide = function () {\n      var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.miniFeedbackHideDelay;\n      if (delay) {\n        _this.hideMiniFeedbackJob.startAfter(delay);\n      }\n    };\n    _this.stopDelayedMiniFeedbackHide = function () {\n      _this.hideMiniFeedbackJob.stop();\n    };\n    _this.hideMiniFeedback = function () {\n      if (_this.state.miniFeedbackVisible) {\n        _this.showMiniFeedback = false;\n        _this.setState({\n          mediaSliderVisible: false,\n          miniFeedbackVisible: false\n        });\n      }\n    };\n    _this.hideMiniFeedbackJob = new _util.Job(_this.hideMiniFeedback);\n    _this.handle = _handle.handle.bind(_assertThisInitialized(_this));\n    _this.showControlsFromPointer = function () {\n      _spotlight.Spotlight.setPointerMode(false);\n      _this.showControls();\n    };\n    _this.clearPulsedPlayback = function () {\n      _this.pulsedPlaybackRate = null;\n      _this.pulsedPlaybackState = null;\n    };\n    // only show mini feedback if playback controls are invoked by a key event\n    _this.shouldShowMiniFeedback = function (ev) {\n      if (ev.type === 'keyup') {\n        _this.showMiniFeedback = true;\n      }\n      return true;\n    };\n    _this.handleLoadStart = function () {\n      _this.firstPlayReadFlag = true;\n      _this.prevCommand = _this.props.noAutoPlay ? 'pause' : 'play';\n      _this.speedIndex = 0;\n      _this.setState({\n        announce: AnnounceState.READY,\n        currentTime: 0,\n        sourceUnavailable: true,\n        proportionPlayed: 0,\n        proportionLoaded: 0\n      });\n      if (!_this.props.noAutoShowMediaControls) {\n        if (!_this.state.bottomControlsRendered) {\n          _this.renderBottomControl.idle();\n        } else {\n          _this.showControls();\n        }\n      }\n    };\n    _this.handlePlay = _this.handle(forwardWillPlay, _this.shouldShowMiniFeedback, function () {\n      return _this.play();\n    }, forwardPlay);\n    _this.handlePause = _this.handle(forwardWillPause, _this.shouldShowMiniFeedback, function () {\n      return _this.pause();\n    }, forwardPause);\n    _this.handleRewind = _this.handle(forwardWillRewind, _this.shouldShowMiniFeedback, function () {\n      return _this.rewind();\n    }, forwardRewind);\n    _this.handleFastForward = _this.handle(forwardWillFastForward, _this.shouldShowMiniFeedback, function () {\n      return _this.fastForward();\n    }, forwardFastForward);\n    _this.handleJump = function (_ref8) {\n      var keyCode = _ref8.keyCode;\n      if (_this.props.seekDisabled) {\n        (0, _handle.forwardCustom)('onSeekFailed')(null, _this.props);\n      } else {\n        var jumpBy = ((0, _keymap.is)('left', keyCode) ? -1 : 1) * _this.props.jumpBy;\n        var time = Math.min(_this.state.duration, Math.max(0, _this.state.currentTime + jumpBy));\n        if (_this.preventTimeChange(time)) return;\n        _this.showMiniFeedback = true;\n        _this.jump(jumpBy);\n        _this.announceJob.startAfter(500, (0, _MediaPlayer.secondsToTime)(_this.video.currentTime, getDurFmt(_this.props.locale), {\n          includeHour: true\n        }));\n      }\n    };\n    _this.handleGlobalKeyDown = _this.handle((0, _handle.returnsTrue)(_this.activityDetected), (0, _handle.forKey)('down'), function () {\n      return !_this.state.mediaControlsVisible && (!_spotlight.Spotlight.getCurrent() && _spotlight.Spotlight.getPointerMode() || !_spotlight.Spotlight.getPointerMode()) && !_this.props.spotlightDisabled;\n    }, _handle.preventDefault, _handle.stopImmediate, _this.showControlsFromPointer);\n    _this.handleControlsHandleAboveHold = function () {\n      if (shouldJump(_this.props, _this.state)) {\n        _this.handleJump({\n          keyCode: _this.jumpButtonPressed === -1 ? jumpBackKeyCode : jumpForwardKeyCode\n        });\n      }\n    };\n    _this.handleControlsHandleAboveKeyDown = function (_ref9) {\n      var keyCode = _ref9.keyCode;\n      if (isEnter(keyCode)) {\n        _this.jumpButtonPressed = 0;\n      } else if (isLeft(keyCode)) {\n        _this.jumpButtonPressed = -1;\n      } else if (isRight(keyCode)) {\n        _this.jumpButtonPressed = 1;\n      }\n    };\n    _this.handleControlsHandleAboveKeyUp = function (_ref10) {\n      var keyCode = _ref10.keyCode;\n      if (isEnter(keyCode) || isLeft(keyCode) || isRight(keyCode)) {\n        _this.jumpButtonPressed = null;\n      }\n    };\n    _this.handleControlsHandleAboveDown = function () {\n      if (_this.jumpButtonPressed === 0) {\n        _this.showControls();\n      } else if (_this.jumpButtonPressed === -1 || _this.jumpButtonPressed === 1) {\n        var keyCode = _this.jumpButtonPressed === -1 ? jumpBackKeyCode : jumpForwardKeyCode;\n        if (shouldJump(_this.props, _this.state)) {\n          _this.handleJump({\n            keyCode: keyCode\n          });\n        } else {\n          _spotlight.Spotlight.move((0, _spotlight.getDirection)(keyCode));\n        }\n      }\n    };\n    //\n    // Media Interaction Methods\n    //\n    _this.handleEvent = function () {\n      var el = _this.video;\n      var updatedState = {\n        // Standard media properties\n        currentTime: el.currentTime,\n        duration: el.duration,\n        paused: el.playbackRate !== 1 || el.paused,\n        playbackRate: el.playbackRate,\n        // Non-standard state computed from properties\n        error: el.error,\n        loading: el.loading,\n        proportionLoaded: el.proportionLoaded,\n        proportionPlayed: el.proportionPlayed || 0,\n        sliderTooltipTime: el.currentTime,\n        // note: `el.loading && this.state.sourceUnavailable == false` is equivalent to `oncanplaythrough`\n        sourceUnavailable: el.loading && _this.state.sourceUnavailable || el.error\n      };\n\n      // If there's an error, we're obviously not loading, no matter what the readyState is.\n      if (updatedState.error) updatedState.loading = false;\n      var isRewind = _this.prevCommand === 'rewind' || _this.prevCommand === 'slowRewind';\n      var isForward = _this.prevCommand === 'fastForward' || _this.prevCommand === 'slowForward';\n      if (_this.props.pauseAtEnd && (el.currentTime === 0 && isRewind || el.currentTime === el.duration && isForward)) {\n        _this.pause();\n      }\n      _this.setState(updatedState);\n    };\n    _this.renderBottomControl = new _util.Job(function () {\n      if (!_this.state.bottomControlsRendered) {\n        _this.setState({\n          bottomControlsRendered: true\n        });\n      }\n    });\n    /**\n     * Returns an object with the current state of the media including `currentTime`, `duration`,\n     * `paused`, `playbackRate`, `proportionLoaded`, and `proportionPlayed`.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @returns {Object}\n     * @public\n     */\n    _this.getMediaState = function () {\n      return {\n        currentTime: _this.video.currentTime,\n        duration: _this.state.duration,\n        paused: _this.video.playbackRate !== 1 || _this.video.paused,\n        playbackRate: _this.video.playbackRate,\n        proportionLoaded: _this.video.proportionLoaded,\n        proportionPlayed: _this.video.proportionPlayed || 0\n      };\n    };\n    /**\n     * The primary means of interacting with the `<video>` element.\n     *\n     * @param  {String} action The method to preform.\n     * @param  {Multiple} props  The arguments, in the format that the action method requires.\n     *\n     * @private\n     */\n    _this.send = function (action, props) {\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      _this.startDelayedFeedbackHide();\n      _this.video[action](props);\n    };\n    /**\n     * Programmatically plays the current media.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.play = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.speedIndex = 0;\n      // must happen before send() to ensure feedback uses the right value\n      // TODO: refactor into this.state member\n      _this.prevCommand = 'play';\n      _this.setPlaybackRate(1);\n      _this.send('play');\n      _this.announce((0, _$L[\"default\"])('Play'));\n      _this.startDelayedMiniFeedbackHide(5000);\n      return true;\n    };\n    /**\n     * Programmatically pauses the current media.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.pause = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.speedIndex = 0;\n      // must happen before send() to ensure feedback uses the right value\n      // TODO: refactor into this.state member\n      _this.prevCommand = 'pause';\n      _this.setPlaybackRate(1);\n      _this.send('pause');\n      _this.announce((0, _$L[\"default\"])('Pause'));\n      _this.stopDelayedMiniFeedbackHide();\n      return true;\n    };\n    /**\n     * Set the media playback time index\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @param {Number} timeIndex - Time index to seek\n     * @public\n     */\n    _this.seek = function (timeIndex) {\n      if (!_this.props.seekDisabled && !isNaN(_this.video.duration) && !_this.state.sourceUnavailable) {\n        _this.video.currentTime = timeIndex;\n      } else {\n        (0, _handle.forwardCustom)('onSeekFailed')(null, _this.props);\n      }\n    };\n    /**\n     * Step a given amount of time away from the current playback position.\n     * Like {@link sandstone/VideoPlayer.VideoPlayerBase.seek|seek} but relative.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @param {Number} distance - Time value to jump\n     * @public\n     */\n    _this.jump = function (distance) {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.pulsedPlaybackRate = (0, _util2.toUpperCase)(new _DurationFmt[\"default\"]({\n        length: 'long'\n      }).format({\n        second: _this.props.jumpBy\n      }));\n      _this.pulsedPlaybackState = distance > 0 ? 'jumpForward' : 'jumpBackward';\n      _this.showFeedback();\n      _this.startDelayedFeedbackHide();\n      _this.seek(_this.state.currentTime + distance);\n      _this.startDelayedMiniFeedbackHide();\n      return true;\n    };\n    /**\n     * Changes the playback speed.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.fastForward = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      var shouldResumePlayback = false;\n      switch (_this.prevCommand) {\n        case 'slowForward':\n          if (_this.speedIndex === _this.playbackRates.length - 1) {\n            // reached to the end of array => fastforward\n            _this.selectPlaybackRates('fastForward');\n            _this.speedIndex = 0;\n            _this.prevCommand = 'fastForward';\n          } else {\n            _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          }\n          break;\n        case 'pause':\n          _this.selectPlaybackRates('slowForward');\n          if (_this.state.paused) {\n            shouldResumePlayback = true;\n          }\n          _this.speedIndex = 0;\n          _this.prevCommand = 'slowForward';\n          break;\n        case 'fastForward':\n          _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          _this.prevCommand = 'fastForward';\n          break;\n        default:\n          _this.selectPlaybackRates('fastForward');\n          _this.speedIndex = 0;\n          _this.prevCommand = 'fastForward';\n          if (_this.state.paused) {\n            shouldResumePlayback = true;\n          }\n          break;\n      }\n      _this.setPlaybackRate(_this.selectPlaybackRate(_this.speedIndex));\n      if (shouldResumePlayback) _this.send('play');\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      return true;\n    };\n    /**\n     * Changes the playback speed.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.rewind = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      var rateForSlowRewind = _this.props.playbackRateHash['slowRewind'];\n      var shouldResumePlayback = false,\n        command = 'rewind';\n      if (_this.video.currentTime === 0) {\n        // Do not rewind if currentTime is 0. We're already at the beginning.\n        return true;\n      }\n      switch (_this.prevCommand) {\n        case 'slowRewind':\n          if (_this.speedIndex === _this.playbackRates.length - 1) {\n            // reached to the end of array => go to rewind\n            _this.selectPlaybackRates(command);\n            _this.speedIndex = 0;\n            _this.prevCommand = command;\n          } else {\n            _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          }\n          break;\n        case 'pause':\n          // If it's possible to slowRewind, do it, otherwise just leave it as normal rewind : QEVENTSEVT-17386\n          if (rateForSlowRewind && rateForSlowRewind.length >= 0) {\n            command = 'slowRewind';\n          }\n          _this.selectPlaybackRates(command);\n          if (_this.state.paused && _this.state.duration > _this.state.currentTime) {\n            shouldResumePlayback = true;\n          }\n          _this.speedIndex = 0;\n          _this.prevCommand = command;\n          break;\n        case 'rewind':\n          _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          _this.prevCommand = command;\n          break;\n        default:\n          _this.selectPlaybackRates(command);\n          _this.speedIndex = 0;\n          _this.prevCommand = command;\n          break;\n      }\n      _this.setPlaybackRate(_this.selectPlaybackRate(_this.speedIndex));\n      if (shouldResumePlayback) _this.send('play');\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      return true;\n    };\n    // Creates a proxy to the video node if Proxy is supported\n    _this.videoProxy = typeof Proxy !== 'function' ? null : new Proxy({}, {\n      get: function get(target, name) {\n        var value = _this.video[name];\n        if (typeof value === 'function') {\n          value = value.bind(_this.video);\n        }\n        return value;\n      },\n      set: function set(target, name, value) {\n        return _this.video[name] = value;\n      }\n    });\n    /**\n     * Returns a proxy to the underlying `<video>` node currently used by the VideoPlayer\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.getVideoNode = function () {\n      return _this.videoProxy || _this.video;\n    };\n    _this.areControlsVisible = function () {\n      return _this.state.mediaControlsVisible;\n    };\n    /**\n     * Sets the playback rate type (from the keys of {@link sandstone/VideoPlayer.VideoPlayer.playbackRateHash|playbackRateHash}).\n     *\n     * @param {String} cmd - Key of the playback rate type.\n     * @private\n     */\n    _this.selectPlaybackRates = function (cmd) {\n      _this.playbackRates = _this.props.playbackRateHash[cmd];\n    };\n    /**\n     * Changes playbackRate to a valid value when initiating fast forward or rewind.\n     *\n     * @param {Number} idx - The index of the desired playback rate.\n     * @private\n     */\n    _this.clampPlaybackRate = function (idx) {\n      if (!_this.playbackRates) {\n        return;\n      }\n      return idx % _this.playbackRates.length;\n    };\n    /**\n     * Retrieves the playback rate value.\n     *\n     * @param {Number} idx - The index of the desired playback rate.\n     * @returns {Number|String} The playback rate value.\n     * @private\n     */\n    _this.selectPlaybackRate = function (idx) {\n      return _this.playbackRates[idx];\n    };\n    /**\n     * Sets playbackRate.\n     *\n     * @param {Number|String} rate - The desired playback rate.\n     * @private\n     */\n    _this.setPlaybackRate = function (rate) {\n      // Stop rewind (if happening)\n      _this.stopRewindJob();\n\n      // Make sure rate is a string\n      _this.playbackRate = String(rate);\n      var pbNumber = calcNumberValueOfPlaybackRate(_this.playbackRate);\n      if (!_platform.platform.webos) {\n        // ReactDOM throws error for setting negative value for playbackRate\n        _this.video.playbackRate = pbNumber < 0 ? 0 : pbNumber;\n\n        // For supporting cross browser behavior\n        if (pbNumber < 0) {\n          _this.beginRewind();\n        }\n      } else {\n        // Set native playback rate\n        _this.video.playbackRate = pbNumber;\n      }\n    };\n    /**\n     * Calculates the time that has elapsed since. This is necessary for browsers until negative\n     * playback rate is directly supported.\n     *\n     * @private\n     */\n    _this.rewindManually = function () {\n      var now = (0, _util.perfNow)(),\n        distance = now - _this.rewindBeginTime,\n        pbRate = calcNumberValueOfPlaybackRate(_this.playbackRate),\n        adjustedDistance = distance * pbRate / 1000;\n      _this.jump(adjustedDistance);\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.startRewindJob(); // Issue another rewind tick\n    };\n\n    _this.rewindJob = new _util.Job(_this.rewindManually, 100);\n    /**\n     * Starts rewind job.\n     *\n     * @private\n     */\n    _this.startRewindJob = function () {\n      _this.rewindBeginTime = (0, _util.perfNow)();\n      _this.rewindJob.start();\n    };\n    /**\n     * Stops rewind job.\n     *\n     * @private\n     */\n    _this.stopRewindJob = function () {\n      _this.rewindJob.stop();\n    };\n    /**\n     * Implements custom rewind functionality (until browsers support negative playback rate).\n     *\n     * @private\n     */\n    _this.beginRewind = function () {\n      _this.send('pause');\n      _this.startRewindJob();\n    };\n    //\n    // Handled Media events\n    //\n    _this.addStateToEvent = function (ev) {\n      return _objectSpread({\n        // More props from `ev` may be added here as needed, but a full copy via `...ev`\n        // overloads Storybook's Action Logger and likely has other perf fallout.\n        type: ev.type\n      }, _this.getMediaState());\n    };\n    //\n    // Player Interaction events\n    //\n    _this.onVideoClick = function () {\n      _this.toggleControls();\n    };\n    _this.onSliderChange = function (_ref11) {\n      var value = _ref11.value;\n      var time = value * _this.state.duration;\n      if (_this.preventTimeChange(time)) return;\n      _this.seek(time);\n      _this.sliderScrubbing = false;\n    };\n    _this.handleBack = _this.handle((0, _handle.forwardCustom)('onBack'));\n    _this.handleKnobMove = function (ev) {\n      _this.sliderScrubbing = true;\n\n      // prevent announcing repeatedly when the knob is detached from the progress.\n      // TODO: fix Slider to not send onKnobMove when the knob hasn't, in fact, moved\n      if (_this.sliderKnobProportion !== ev.proportion) {\n        _this.sliderKnobProportion = ev.proportion;\n        var seconds = Math.floor(_this.sliderKnobProportion * _this.video.duration);\n        if (!isNaN(seconds)) {\n          var knobTime = (0, _MediaPlayer.secondsToTime)(seconds, getDurFmt(_this.props.locale), {\n            includeHour: true\n          });\n          (0, _handle.forward)('onScrub', _objectSpread(_objectSpread({}, ev), {}, {\n            seconds: seconds,\n            type: 'onScrub'\n          }), _this.props);\n          _this.announce(\"\".concat((0, _$L[\"default\"])('jump to'), \" \").concat(knobTime), true);\n        }\n      }\n    };\n    _this.handleSliderFocus = function () {\n      var seconds = Math.floor(_this.sliderKnobProportion * _this.video.duration);\n      _this.sliderScrubbing = true;\n      _this.setState({\n        feedbackAction: 'focus',\n        feedbackVisible: true\n      });\n      _this.stopDelayedFeedbackHide();\n      if (!isNaN(seconds)) {\n        var knobTime = (0, _MediaPlayer.secondsToTime)(seconds, getDurFmt(_this.props.locale), {\n          includeHour: true\n        });\n        (0, _handle.forward)('onScrub', {\n          detached: _this.sliderScrubbing,\n          proportion: _this.sliderKnobProportion,\n          seconds: seconds,\n          type: 'onScrub'\n        }, _this.props);\n        _this.announce(\"\".concat((0, _$L[\"default\"])('jump to'), \" \").concat(knobTime), true);\n      }\n    };\n    _this.handleSliderBlur = function () {\n      _this.sliderScrubbing = false;\n      _this.startDelayedFeedbackHide();\n      _this.setState(function () {\n        return {\n          feedbackAction: 'blur',\n          feedbackVisible: true\n        };\n      });\n    };\n    _this.slider5WayPressJob = new _util.Job(function () {\n      _this.setState({\n        slider5WayPressed: false\n      });\n    }, 200);\n    _this.handleSliderKeyDown = function (ev) {\n      var keyCode = ev.keyCode;\n      if ((0, _keymap.is)('enter', keyCode)) {\n        _this.setState({\n          slider5WayPressed: true\n        }, _this.slider5WayPressJob.start());\n      } else if ((0, _keymap.is)('down', keyCode)) {\n        _spotlight.Spotlight.setPointerMode(false);\n        if (_spotlight.Spotlight.focus(_this.mediaControlsSpotlightId)) {\n          (0, _handle.preventDefault)(ev);\n          (0, _handle.stopImmediate)(ev);\n        }\n      } else if ((0, _keymap.is)('up', keyCode)) {\n        _spotlight.Spotlight.setPointerMode(false);\n      }\n    };\n    _this.onJumpBackward = _this.handle(forwardWillJumpBackward, function () {\n      return _this.jump(-1 * _this.props.jumpBy);\n    }, forwardJumpBackward);\n    _this.onJumpForward = _this.handle(forwardWillJumpForward, function () {\n      return _this.jump(_this.props.jumpBy);\n    }, forwardJumpForward);\n    _this.handleToggleMore = function (ev) {\n      var showMoreComponents = ev.showMoreComponents,\n        liftDistance = ev.liftDistance;\n      forwardToggleMore(ev, _this.props);\n      if (!showMoreComponents) {\n        _this.startAutoCloseTimeout(); // Restore the timer since we are leaving \"more.\n        // Restore the title-hide now that we're finished with \"more\".\n        _this.startDelayedTitleHide();\n      } else {\n        // Interrupt the title-hide since we don't want it hiding autonomously in \"more\".\n        _this.stopDelayedTitleHide();\n      }\n      _this.playerRef.current.style.setProperty('--liftDistance', \"\".concat(liftDistance, \"px\"));\n      _this.setState(function (_ref12) {\n        var announce = _ref12.announce;\n        return {\n          infoVisible: showMoreComponents,\n          titleVisible: true,\n          announce: announce < AnnounceState.INFO ? AnnounceState.INFO : AnnounceState.DONE\n        };\n      });\n    };\n    _this.handleMediaControlsClose = function (ev) {\n      _this.hideControls();\n      ev.stopPropagation();\n    };\n    _this.setVideoRef = function (video) {\n      _this.video = video;\n    };\n    _this.setTitleRef = function (node) {\n      _this.titleRef = node;\n    };\n    _this.setAnnounceRef = function (node) {\n      _this.announceRef = node;\n    };\n    _this.video = null;\n    _this.pulsedPlaybackRate = null;\n    _this.pulsedPlaybackState = null;\n    _this.prevCommand = _props.noAutoPlay ? 'pause' : 'play';\n    _this.showMiniFeedback = false;\n    _this.speedIndex = 0;\n    _this.id = _this.generateId();\n    _this.selectPlaybackRates('fastForward');\n    _this.sliderKnobProportion = 0;\n    _this.mediaControlsSpotlightId = _props.spotlightId + '_mediaControls';\n    _this.jumpButtonPressed = null;\n    _this.playerRef = /*#__PURE__*/(0, _react.createRef)();\n\n    // Re-render-necessary State\n    _this.state = {\n      announce: AnnounceState.READY,\n      currentTime: 0,\n      duration: 0,\n      error: false,\n      loading: false,\n      paused: _props.noAutoPlay,\n      playbackRate: 1,\n      titleOffsetHeight: 0,\n      bottomOffsetHeight: 0,\n      // Non-standard state computed from properties\n      bottomControlsRendered: false,\n      feedbackAction: 'idle',\n      feedbackVisible: false,\n      infoVisible: false,\n      mediaControlsVisible: false,\n      mediaSliderVisible: false,\n      miniFeedbackVisible: false,\n      proportionLoaded: 0,\n      proportionPlayed: 0,\n      sourceUnavailable: true,\n      titleVisible: true\n    };\n    if (_props.setApiProvider) {\n      _props.setApiProvider(_assertThisInitialized(_this));\n    }\n    return _this;\n  }\n  _createClass(VideoPlayerBase, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      (0, _dispatcher.on)('mousemove', this.activityDetected);\n      if (_platform.platform.touch) {\n        (0, _dispatcher.on)('touchmove', this.activityDetected);\n      }\n      document.addEventListener('keydown', this.handleGlobalKeyDown, {\n        capture: true\n      });\n      document.addEventListener('wheel', this.activityDetected, {\n        capture: true\n      });\n      this.startDelayedFeedbackHide();\n      if (this.context && typeof this.context === 'function') {\n        this.floatingLayerController = this.context(function () {});\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (\n      // Use shallow props compare instead of source comparison to support possible changes\n      // from mediaComponent.\n      (0, _util.shallowEqual)(this.props, nextProps) && !this.state.miniFeedbackVisible && this.state.miniFeedbackVisible === nextState.miniFeedbackVisible && !this.state.mediaSliderVisible && this.state.mediaSliderVisible === nextState.mediaSliderVisible && this.state.loading === nextState.loading && this.props.loading === nextProps.loading && (this.state.currentTime !== nextState.currentTime || this.state.proportionPlayed !== nextState.proportionPlayed || this.state.sliderTooltipTime !== nextState.sliderTooltipTime)) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.titleRef && this.state.infoVisible && (!prevState.infoVisible || !(0, _equals[\"default\"])(this.props.infoComponents, prevProps.infoComponents))) {\n        var node = this.titleRef;\n        node.style.setProperty('--infoComponentsOffset', \"\".concat(node.offsetHeight, \"px\"));\n      }\n      if (!this.state.mediaControlsVisible && prevState.mediaControlsVisible !== this.state.mediaControlsVisible || !this.state.mediaSliderVisible && prevState.mediaSliderVisible !== this.state.mediaSliderVisible) {\n        this.floatingLayerController.notify({\n          action: 'closeAll'\n        });\n      }\n      if (this.props.spotlightId !== prevProps.spotlightId) {\n        this.mediaControlsSpotlightId = this.props.spotlightId + '_mediaControls';\n      }\n      if (!this.state.mediaControlsVisible && prevState.mediaControlsVisible) {\n        forwardControlsAvailable({\n          available: false\n        }, this.props);\n        this.stopAutoCloseTimeout();\n        if (!this.props.spotlightDisabled) {\n          // If last focused item were in the media controls or slider, we need to explicitly\n          // blur the element when MediaControls hide. See ENYO-5648\n          var current = _spotlight.Spotlight.getCurrent();\n          var bottomControls = document.querySelector(\".\".concat(_VideoPlayerModule[\"default\"].bottom));\n          if (current && bottomControls && bottomControls.contains(current)) {\n            current.blur();\n          }\n\n          // when in pointer mode, the focus call below will only update the last focused for\n          // the video player and not set the active container to the video player which will\n          // cause focus to land back on the media controls button when spotlight restores\n          // focus.\n          if (_spotlight.Spotlight.getPointerMode()) {\n            _spotlight.Spotlight.setActiveContainer(this.props.spotlightId);\n          }\n\n          // Set focus to the hidden spottable control - maintaining focus on available spottable\n          // controls, which prevents an additional 5-way attempt in order to re-show media controls\n          _spotlight.Spotlight.focus(\".\".concat(_VideoPlayerModule[\"default\"].controlsHandleAbove));\n        }\n      } else if (this.state.mediaControlsVisible && !prevState.mediaControlsVisible) {\n        forwardControlsAvailable({\n          available: true\n        }, this.props);\n        this.startAutoCloseTimeout();\n        if (!this.props.spotlightDisabled) {\n          var _current = _spotlight.Spotlight.getCurrent();\n          if (!_current || this.playerRef.current.contains(_current)) {\n            // Set focus within media controls when they become visible.\n            if (_spotlight.Spotlight.focus(this.mediaControlsSpotlightId) && this.jumpButtonPressed === 0) {\n              this.jumpButtonPressed = null;\n            }\n          }\n        }\n      }\n\n      // Once video starts loading it queues bottom control render until idle\n      if (this.state.bottomControlsRendered && !prevState.bottomControlsRendered && !this.state.mediaControlsVisible) {\n        this.showControls();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      (0, _dispatcher.off)('mousemove', this.activityDetected);\n      if (_platform.platform.touch) {\n        (0, _dispatcher.off)('touchmove', this.activityDetected);\n      }\n      document.removeEventListener('keydown', this.handleGlobalKeyDown, {\n        capture: true\n      });\n      document.removeEventListener('wheel', this.activityDetected, {\n        capture: true\n      });\n      this.stopRewindJob();\n      this.stopAutoCloseTimeout();\n      this.stopDelayedTitleHide();\n      this.stopDelayedFeedbackHide();\n      this.stopDelayedMiniFeedbackHide();\n      this.announceJob.stop();\n      this.renderBottomControl.stop();\n      this.slider5WayPressJob.stop();\n      if (this.floatingLayerController) {\n        this.floatingLayerController.unregister();\n      }\n    }\n  }, {\n    key: \"isTimeBeyondSelection\",\n    value: function isTimeBeyondSelection(time) {\n      var selection = this.props.selection;\n\n      // if selection isn't set or only contains the starting value, there isn't a valid selection\n      // with which to test the time\n      if (selection != null && selection.length >= 2) {\n        var _selection = _slicedToArray(selection, 2),\n          start = _selection[0],\n          end = _selection[1];\n        return time > end || time < start;\n      }\n      return false;\n    }\n  }, {\n    key: \"preventTimeChange\",\n    value: function preventTimeChange(time) {\n      return this.isTimeBeyondSelection(time) && !(0, _handle.forwardWithPrevent)('onSeekOutsideSelection', {\n        type: 'onSeekOutsideSelection',\n        time: time\n      }, this.props);\n    }\n  }, {\n    key: \"getControlsAriaProps\",\n    value: function getControlsAriaProps() {\n      if (this.state.announce === AnnounceState.TITLE) {\n        return {\n          'aria-labelledby': \"\".concat(this.id, \"_mediaTitle_title \").concat(this.id, \"_mediaControls_actionGuide\"),\n          'aria-live': 'off',\n          role: 'alert'\n        };\n      } else if (this.state.announce === AnnounceState.INFO) {\n        return {\n          'aria-labelledby': \"\".concat(this.id, \"_mediaTitle_info\"),\n          role: 'region'\n        };\n      }\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        backButtonAriaLabel = _this$props.backButtonAriaLabel,\n        className = _this$props.className,\n        disabled = _this$props.disabled,\n        infoComponents = _this$props.infoComponents,\n        initialJumpDelay = _this$props.initialJumpDelay,\n        jumpDelay = _this$props.jumpDelay,\n        loading = _this$props.loading,\n        locale = _this$props.locale,\n        mediaControlsComponent = _this$props.mediaControlsComponent,\n        no5WayJump = _this$props.no5WayJump,\n        noAutoPlay = _this$props.noAutoPlay,\n        noMiniFeedback = _this$props.noMiniFeedback,\n        noSlider = _this$props.noSlider,\n        noSpinner = _this$props.noSpinner,\n        selection = _this$props.selection,\n        spotlightDisabled = _this$props.spotlightDisabled,\n        spotlightId = _this$props.spotlightId,\n        style = _this$props.style,\n        thumbnailComponent = _this$props.thumbnailComponent,\n        thumbnailSrc = _this$props.thumbnailSrc,\n        title = _this$props.title,\n        VideoComponent = _this$props.videoComponent,\n        mediaProps = _objectWithoutProperties(_this$props, _excluded2);\n      delete mediaProps.announce;\n      delete mediaProps.autoCloseTimeout;\n      delete mediaProps.children;\n      delete mediaProps.feedbackHideDelay;\n      delete mediaProps.jumpBy;\n      delete mediaProps.miniFeedbackHideDelay;\n      delete mediaProps.noAutoShowMediaControls;\n      delete mediaProps.noMediaSliderFeedback;\n      delete mediaProps.onBack;\n      delete mediaProps.onControlsAvailable;\n      delete mediaProps.onFastForward;\n      delete mediaProps.onJumpBackward;\n      delete mediaProps.onJumpForward;\n      delete mediaProps.onPause;\n      delete mediaProps.onPlay;\n      delete mediaProps.onRewind;\n      delete mediaProps.onWillFastForward;\n      delete mediaProps.onWillJumpBackward;\n      delete mediaProps.onWillJumpForward;\n      delete mediaProps.onWillPause;\n      delete mediaProps.onWillPlay;\n      delete mediaProps.onWillRewind;\n      delete mediaProps.onScrub;\n      delete mediaProps.onSeekFailed;\n      delete mediaProps.onSeekOutsideSelection;\n      delete mediaProps.onToggleMore;\n      delete mediaProps.pauseAtEnd;\n      delete mediaProps.playbackRateHash;\n      delete mediaProps.seekDisabled;\n      delete mediaProps.setApiProvider;\n      delete mediaProps.thumbnailUnavailable;\n      delete mediaProps.titleHideDelay;\n      delete mediaProps.videoPath;\n      mediaProps.autoPlay = !noAutoPlay;\n      mediaProps.className = _VideoPlayerModule[\"default\"].video;\n      mediaProps.controls = false;\n      mediaProps.mediaComponent = 'video';\n      mediaProps.onLoadStart = this.handleLoadStart;\n      mediaProps.onUpdate = this.handleEvent;\n      mediaProps.ref = this.setVideoRef;\n      var controlsAriaProps = this.getControlsAriaProps();\n      var proportionSelection = selection;\n      if (proportionSelection != null && this.state.duration) {\n        proportionSelection = selection.map(function (t) {\n          return t / _this2.state.duration;\n        });\n      }\n      var durFmt = getDurFmt(locale);\n      var controlsHandleAboveHoldConfig = getControlsHandleAboveHoldConfig({\n        frequency: jumpDelay,\n        time: initialJumpDelay\n      });\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(RootContainer, {\n        className: _VideoPlayerModule[\"default\"].videoPlayer + ' enact-fit' + (className ? ' ' + className : ''),\n        onClick: this.activityDetected,\n        ref: this.playerRef,\n        spotlightDisabled: spotlightDisabled,\n        spotlightId: spotlightId,\n        style: style,\n        children: [\n        // Duplicating logic from <ComponentOverride /> until enzyme supports forwardRef\n        VideoComponent && ((typeof VideoComponent === 'function' || typeof VideoComponent === 'string') && /*#__PURE__*/(0, _jsxRuntime.jsx)(VideoComponent, _objectSpread({}, mediaProps)) || /*#__PURE__*/(0, _react.isValidElement)(VideoComponent) && /*#__PURE__*/(0, _react.cloneElement)(VideoComponent, mediaProps)) || null, /*#__PURE__*/(0, _jsxRuntime.jsx)(_Overlay[\"default\"], {\n          bottomControlsVisible: this.state.mediaControlsVisible,\n          onClick: this.onVideoClick,\n          children: !noSpinner && (this.state.loading || loading) ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spinner[\"default\"], {\n            centered: true\n          }) : null\n        }), this.state.bottomControlsRendered ? /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", _objectSpread(_objectSpread({\n          className: _VideoPlayerModule[\"default\"].fullscreen\n        }, controlsAriaProps), {}, {\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_FeedbackContent[\"default\"], {\n            className: _VideoPlayerModule[\"default\"].miniFeedback,\n            playbackRate: this.pulsedPlaybackRate || this.selectPlaybackRate(this.speedIndex),\n            playbackState: this.pulsedPlaybackState || this.prevCommand,\n            visible: this.state.miniFeedbackVisible && !noMiniFeedback,\n            children: (0, _MediaPlayer.secondsToTime)(this.state.sliderTooltipTime, durFmt)\n          }), this.state.mediaControlsVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button[\"default\"], {\n            \"aria-label\": backButtonAriaLabel == null ? (0, _$L[\"default\"])('go to previous') : backButtonAriaLabel,\n            className: _VideoPlayerModule[\"default\"].back,\n            icon: \"arrowhookleft\",\n            iconFlip: \"auto\",\n            onClick: this.handleBack,\n            size: \"small\"\n          }) : null, /*#__PURE__*/(0, _jsxRuntime.jsxs)(ControlsContainer, {\n            className: _VideoPlayerModule[\"default\"].bottom + (this.state.mediaControlsVisible ? '' : ' ' + _VideoPlayerModule[\"default\"].hidden) + (this.state.infoVisible ? ' ' + _VideoPlayerModule[\"default\"].lift : ''),\n            spotlightDisabled: spotlightDisabled || !this.state.mediaControlsVisible,\n            children: [this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n              className: _VideoPlayerModule[\"default\"].infoFrame,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaTitle[\"default\"], {\n                id: \"\".concat(this.id, \"_mediaTitle\"),\n                infoVisible: this.state.infoVisible,\n                ref: this.setTitleRef,\n                title: title,\n                visible: this.state.titleVisible && this.state.mediaControlsVisible,\n                children: infoComponents\n              }), noSlider ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                current: this.state.currentTime,\n                total: this.state.duration,\n                formatter: durFmt\n              }) : null]\n            }) : null, noSlider ? null : /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n              className: _VideoPlayerModule[\"default\"].sliderContainer,\n              children: [this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                noTotalTime: true,\n                current: this.state.currentTime,\n                formatter: durFmt\n              }) : null, /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.MediaSlider, {\n                backgroundProgress: this.state.proportionLoaded,\n                disabled: disabled || this.state.sourceUnavailable,\n                forcePressed: this.state.slider5WayPressed,\n                onBlur: this.handleSliderBlur,\n                onChange: this.onSliderChange,\n                onFocus: this.handleSliderFocus,\n                onKeyDown: this.handleSliderKeyDown,\n                onKnobMove: this.handleKnobMove,\n                selection: proportionSelection,\n                spotlightDisabled: spotlightDisabled || !this.state.mediaControlsVisible,\n                value: this.state.proportionPlayed,\n                visible: this.state.mediaSliderVisible,\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_FeedbackTooltip[\"default\"], {\n                  action: this.state.feedbackAction,\n                  duration: this.state.duration,\n                  formatter: durFmt,\n                  hidden: !this.state.feedbackVisible || this.state.sourceUnavailable,\n                  playbackRate: this.selectPlaybackRate(this.speedIndex),\n                  playbackState: this.prevCommand,\n                  thumbnailComponent: thumbnailComponent,\n                  thumbnailDeactivated: this.props.thumbnailUnavailable,\n                  thumbnailSrc: thumbnailSrc\n                })\n              }), this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                noCurrentTime: true,\n                total: this.state.duration,\n                formatter: durFmt\n              }) : null]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_ComponentOverride[\"default\"], {\n              component: mediaControlsComponent,\n              id: \"\".concat(this.id, \"_mediaControls\"),\n              initialJumpDelay: initialJumpDelay,\n              jumpDelay: jumpDelay,\n              mediaDisabled: disabled || this.state.sourceUnavailable,\n              no5WayJump: no5WayJump,\n              onClose: this.handleMediaControlsClose,\n              onFastForward: this.handleFastForward,\n              onJumpBackwardButtonClick: this.onJumpBackward,\n              onJumpForwardButtonClick: this.onJumpForward,\n              onPause: this.handlePause,\n              onPlay: this.handlePlay,\n              onRewind: this.handleRewind,\n              onToggleMore: this.handleToggleMore,\n              paused: this.state.paused,\n              spotlightId: this.mediaControlsSpotlightId,\n              spotlightDisabled: !this.state.mediaControlsVisible || spotlightDisabled,\n              visible: this.state.mediaControlsVisible\n            })]\n          })]\n        })) : null, /*#__PURE__*/(0, _jsxRuntime.jsx)(SpottableDiv\n        // This captures spotlight focus for use with 5-way.\n        // It's non-visible but lives at the top of the VideoPlayer.\n        , {\n          className: _VideoPlayerModule[\"default\"].controlsHandleAbove,\n          holdConfig: controlsHandleAboveHoldConfig,\n          onDown: this.handleControlsHandleAboveDown,\n          onHold: this.handleControlsHandleAboveHold,\n          onKeyDown: this.handleControlsHandleAboveKeyDown,\n          onKeyUp: this.handleControlsHandleAboveKeyUp,\n          onSpotlightDown: this.showControls,\n          selectionKeys: controlsHandleAboveSelectionKeys,\n          spotlightDisabled: this.state.mediaControlsVisible || spotlightDisabled\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Announce[\"default\"], {\n          ref: this.setAnnounceRef\n        })]\n      });\n    }\n  }]);\n  return VideoPlayerBase;\n}(_react.Component), _class.displayName = 'VideoPlayerBase', _class.propTypes = /** @lends sandstone/VideoPlayer.VideoPlayerBase.prototype */{\n  /**\n   * passed by AnnounceDecorator for accessibility\n   *\n   * @type {Function}\n   * @private\n   */\n  announce: _propTypes2[\"default\"].func,\n  /**\n   * The time (in milliseconds) before the control buttons will hide.\n   *\n   * Setting this to 0 or `null` disables closing, requiring user input to open and close.\n   *\n   * @type {Number}\n   * @default 5000\n   * @public\n   */\n  autoCloseTimeout: _propTypes2[\"default\"].number,\n  /**\n   * Sets the hint string read when focusing the back button.\n   *\n   * @type {String}\n   * @default 'go to previous'\n   * @public\n   */\n  backButtonAriaLabel: _propTypes2[\"default\"].string,\n  /**\n   * Removes interactive capability from this component. This includes, but is not limited to,\n   * key-press events, most clickable buttons, and prevents the showing of the controls.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  disabled: _propTypes2[\"default\"].bool,\n  /**\n   * Amount of time (in milliseconds) after which the feedback text/icon part of the slider's\n   * tooltip will automatically hidden after the last action.\n   * Setting this to 0 or `null` disables feedbackHideDelay; feedback will always be present.\n   *\n   * @type {Number}\n   * @default 3000\n   * @public\n   */\n  feedbackHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Components placed below the title.\n   *\n   * Typically these will be media descriptor icons, like how many audio channels, what codec\n   * the video uses, but can also be a description for the video or anything else that seems\n   * appropriate to provide information about the video to the user.\n   *\n   * @type {Node}\n   * @public\n   */\n  infoComponents: _propTypes2[\"default\"].node,\n  /**\n   * The number of milliseconds that the player will pause before firing the\n   * first jump event on a right or left pulse.\n   *\n   * @type {Number}\n   * @default 400\n   * @public\n   */\n  initialJumpDelay: _propTypes2[\"default\"].number,\n  /**\n   * The number of seconds the player should skip forward or backward when a \"jump\" button is\n   * pressed.\n   *\n   * @type {Number}\n   * @default 30\n   * @public\n   */\n  jumpBy: _propTypes2[\"default\"].number,\n  /**\n   * The number of milliseconds that the player will throttle before firing a\n   * jump event on a right or left pulse.\n   *\n   * @type {Number}\n   * @default 200\n   * @public\n   */\n  jumpDelay: _propTypes2[\"default\"].number,\n  /**\n   * Manually set the loading state of the media, in case you have information that\n   * `VideoPlayer` does not have.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  loading: _propTypes2[\"default\"].bool,\n  /**\n   * The current locale as a\n   * {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}.\n   *\n   * @type {String}\n   * @public\n   */\n  locale: _propTypes2[\"default\"].string,\n  /**\n   * Overrides the default media control component to support customized behaviors.\n   *\n   * The provided component will receive the following props from `VideoPlayer`:\n   *\n   * * `initialJumpDelay` - Time (in ms) to wait before starting a jump\n   * * `jumpDelay` -  - Time (in ms) to wait between jumps\n   * * `mediaDisabled` - `true` when the media controls are not interactive\n   * * `no5WayJump` - `true` when 5-way jumping is disabled\n   * * `onClose` - Called when cancel key is pressed when the media controls are visible\n   * * `onFastForward` - Called when the media is fast forwarded via a key event\n   * * `onJump` - Called when the media jumps either forward or backward\n   * * `onJumpBackwardButtonClick` - Called when the jump backward button is pressed\n   * * `onJumpForwardButtonClick` - Called when the jump forward button is pressed\n   * * `onKeyDown` - Called when a key is pressed\n   * * `onPause` - Called when the media is paused via a key event\n   * * `onPlay` - Called when the media is played via a key event\n   * * `onRewind` - Called when the media is rewound via a key event\n   * * `onToggleMore` - Called when the more components are hidden or shown\n   * * `paused` - `true` when the media is paused\n   * * `spotlightId` - The spotlight container Id for the media controls\n   * * `spotlightDisabled` - `true` when spotlight is disabled for the media controls\n   * * `visible` - `true` when the media controls should be displayed\n   *\n   * @type {Component|Element}\n   * @default sandstone/MediaPlayer.MediaControls\n   * @public\n   */\n  mediaControlsComponent: _propTypes[\"default\"].componentOverride,\n  /**\n   * Amount of time (in milliseconds), after the last user action, that the `miniFeedback`\n   * will automatically hide.\n   * Setting this to 0 or `null` disables `miniFeedbackHideDelay`; `miniFeedback` will always\n   * be present.\n   *\n   * @type {Number}\n   * @default 2000\n   * @public\n   */\n  miniFeedbackHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Disable audio for this video.\n   *\n   * In a TV context, this is handled by the remote control, not programmatically in the\n   * VideoPlayer API.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  muted: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of using left and right keys for seeking.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  no5WayJump: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of playing a video immediately after it's loaded.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noAutoPlay: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of showing media controls immediately after it's loaded.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noAutoShowMediaControls: _propTypes2[\"default\"].bool,\n  /**\n   * Hides media slider feedback when fast forward or rewind while media controls are hidden.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noMediaSliderFeedback: _propTypes2[\"default\"].bool,\n  /**\n   * Removes the mini feedback.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noMiniFeedback: _propTypes2[\"default\"].bool,\n  /**\n   * Removes the media slider.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noSlider: _propTypes2[\"default\"].bool,\n  /**\n   * Removes spinner while loading.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  noSpinner: _propTypes2[\"default\"].bool,\n  /**\n   * Called when the back button is clicked.\n   *\n   * @type {Function}\n   * @public\n   */\n  onBack: _propTypes2[\"default\"].func,\n  /**\n   * Called when the player's controls change availability, whether they are shown\n   * or hidden.\n   *\n   * The current status is sent as the first argument in an object with a key `available`\n   * which will be either `true` or `false`. (e.g.: `onControlsAvailable({available: true})`)\n   *\n   * @type {Function}\n   * @public\n   */\n  onControlsAvailable: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been fast forwarded.\n   *\n   * @type {Function}\n   * @public\n   */\n  onFastForward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user clicks the JumpBackward button.\n   *\n   * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n   *\n   * @type {Function}\n   * @public\n   */\n  onJumpBackward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user clicks the JumpForward button.\n   *\n   * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n   *\n   * @type {Function}\n   * @public\n   */\n  onJumpForward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been paused.\n   *\n   * @type {Function}\n   * @public\n   */\n  onPause: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been played.\n   *\n   * @type {Function}\n   * @public\n   */\n  onPlay: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been rewound.\n   *\n   * @type {Function}\n   * @public\n   */\n  onRewind: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user is moving the VideoPlayer's Slider knob independently of\n   * the current playback position.\n   *\n   * It is passed an object with a `seconds` key (float value) to indicate the current time\n   * index. It can be used to update the `thumbnailSrc` to the reflect the current scrub\n   * position.\n   *\n   * @type {Function}\n   * @public\n   */\n  onScrub: _propTypes2[\"default\"].func,\n  /**\n   * Called when seek is attempted while `seekDisabled` is true.\n   *\n   * @type {Function}\n   */\n  onSeekFailed: _propTypes2[\"default\"].func,\n  /**\n   * Called when seeking outside of the current `selection` range.\n   *\n   * By default, the seek will still be performed. Calling `preventDefault()` on the event\n   * will prevent the seek operation.\n   *\n   * @type {Function}\n   * @public\n   */\n  onSeekOutsideSelection: _propTypes2[\"default\"].func,\n  /**\n   * Called when the visibility of more components is changed\n   *\n   * Event payload includes:\n   *\n   * * `type` - Type of event, `'onToggleMore'`\n   * * `showMoreComponents` - `true` when the components are visible`\n   * * `liftDistance` - The distance, in pixels, the component animates\n   *`\n   * @type {Function}\n   * @public\n   */\n  onToggleMore: _propTypes2[\"default\"].func,\n  /**\n   * Called once before the video is forwarded.\n   *\n   * @type {Function}\n   * @public\n   */\n  onWillFastForward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is jump backwarded.\n    *\n    * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillJumpBackward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is jump forwarded.\n    *\n    * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillJumpForward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is paused.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillPause: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is played\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillPlay: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is rewound.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillRewind: _propTypes2[\"default\"].func,\n  /**\n   * Pauses the video when it reaches either the start or the end of the video during rewind,\n   * slow rewind, fast forward, or slow forward.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  pauseAtEnd: _propTypes2[\"default\"].bool,\n  /**\n   * Mapping of playback rate names to playback rate values that may be set.\n   *\n   * @type {sandstone/VideoPlayer.playbackRateHash}\n   * @default {\n   *\tfastForward: ['2', '4', '8', '16'],\n   *\trewind: ['-2', '-4', '-8', '-16'],\n   *\tslowForward: ['1/4', '1/2'],\n   *\tslowRewind: ['-1/2', '-1']\n   * }\n   * @public\n   */\n  playbackRateHash: _propTypes2[\"default\"].shape({\n    fastForward: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    rewind: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    slowForward: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    slowRewind: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number]))\n  }),\n  /**\n   * Disables seek function.\n   *\n   * Note that jump by arrow keys will also be disabled when `true`.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  seekDisabled: _propTypes2[\"default\"].bool,\n  /**\n   * A range of the video to display as selected.\n   *\n   * The value of `selection` may either be:\n   * * `null` or `undefined` for no selection,\n   * * a single-element array with the start time of the selection\n   * * a two-element array containing both the start and end time of the selection in seconds\n   *\n   * When the start time is specified, the media slider will show filled starting at that\n   * time to the current time.\n   *\n   * When the end time is specified, the slider's background will be filled between the two\n   * times.\n   *\n   * @type {Number[]}\n   * @public\n   */\n  selection: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].number),\n  /**\n   * Registers the VideoPlayer component with an\n   * {@link core/internal/ApiDecorator.ApiDecorator}.\n   *\n   * @type {Function}\n   * @private\n   */\n  setApiProvider: _propTypes2[\"default\"].func,\n  /**\n   * The video source.\n   *\n   * Any children `<source>` tag elements of {@link sandstone/VideoPlayer|VideoPlayer} will\n   * be sent directly to the `videoComponent` as video sources.\n   *\n   * @type {Node}\n   * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source\n   * @public\n   */\n  source: _propTypes2[\"default\"].node,\n  /**\n   * Disables spotlight navigation into the component.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  spotlightDisabled: _propTypes2[\"default\"].bool,\n  /**\n   * The spotlight container ID for the player.\n   *\n   * @type {String}\n   * @public\n   * @default 'videoPlayer'\n   */\n  spotlightId: _propTypes2[\"default\"].string,\n  /**\n   * The thumbnail component to be used instead of the built-in version.\n   *\n   * The internal thumbnail style will not be applied to this component. This component\n   * follows the same rules as the built-in version.\n   *\n   * @type {String|Component|Element}\n   * @public\n   */\n  thumbnailComponent: _propTypes[\"default\"].renderableOverride,\n  /**\n   * Thumbnail image source to show on the slider knob.\n   *\n   * This is a standard {@link sandstone/Image} component so it supports all of the same\n   * options for the `src` property. If no `thumbnailComponent` and no `thumbnailSrc` is set,\n   * no tooltip will display.\n   *\n   * @type {String|Object}\n   * @public\n   */\n  thumbnailSrc: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].object]),\n  /**\n  * Enables the thumbnail transition from opaque to translucent.\n  *\n  * @type {Boolean}\n  * @public\n  */\n  thumbnailUnavailable: _propTypes2[\"default\"].bool,\n  /**\n   * Title for the video being played.\n   *\n   * @type {String|Node}\n   * @public\n   */\n  title: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].node]),\n  /**\n   * The time (in milliseconds) before the title disappears from the controls.\n   *\n   * Setting this to `0` disables hiding.\n   *\n   * @type {Number}\n   * @default 5000\n   * @public\n   */\n  titleHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Video component to use.\n   *\n   * The default renders an `HTMLVideoElement`. Custom video components must have a similar\n   * API structure, exposing the following APIs:\n   *\n   * Properties:\n   * * `currentTime` {Number} - Playback index of the media in seconds\n   * * `duration` {Number} - Media's entire duration in seconds\n   * * `error` {Boolean} - `true` if video playback has errored.\n   * * `loading` {Boolean} - `true` if video playback is loading.\n   * * `paused` {Boolean} - Playing vs paused state. `true` means the media is paused\n   * * `playbackRate` {Number} - Current playback rate, as a number\n   * * `proportionLoaded` {Number} - A value between `0` and `1`\n   *\trepresenting the proportion of the media that has loaded\n   * * `proportionPlayed` {Number} - A value between `0` and `1` representing the\n   *\tproportion of the media that has already been shown\n   *\n   * Events:\n   * * `onLoadStart` - Called when the video starts to load\n   * * `onUpdate` - Sent when any of the properties were updated\n   *\n   * Methods:\n   * * `play()` - play video\n   * * `pause()` - pause video\n   * * `load()` - load video\n   *\n   * The {@link sandstone/VideoPlayer.Video.source|source} property is passed to\n   * the video component as a child node.\n   *\n   * @type {Component|Element}\n   * @default {@link ui/Media.Media}\n   * @public\n   */\n  videoComponent: _propTypes[\"default\"].componentOverride\n}, _class.contextType = _FloatingLayerDecorator.FloatingLayerContext, _class.defaultProps = {\n  autoCloseTimeout: 5000,\n  feedbackHideDelay: 3000,\n  initialJumpDelay: 400,\n  jumpBy: 30,\n  jumpDelay: 200,\n  mediaControlsComponent: _MediaPlayer.MediaControls,\n  miniFeedbackHideDelay: 2000,\n  playbackRateHash: {\n    fastForward: ['2', '4', '8', '16'],\n    rewind: ['-2', '-4', '-8', '-16'],\n    slowForward: ['1/4', '1/2'],\n    slowRewind: ['-1/2', '-1']\n  },\n  spotlightId: 'videoPlayer',\n  titleHideDelay: 5000,\n  videoComponent: _Media[\"default\"]\n}, _class);\n\n/**\n * A standard HTML5 video player for Sandstone. It behaves, responds to, and operates like a\n * `<video>` tag in its support for `<source>`.  It also accepts custom tags such as\n * `<infoComponents>` for displaying additional information in the title area and `<MediaControls>`\n * for handling media playback controls and adding more controls.\n *\n * Example usage:\n * ```\n *\t<VideoPlayer title=\"Hilarious Cat Video\" poster=\"http://my.cat.videos/boots-poster.jpg\">\n *\t\t<source src=\"http://my.cat.videos/boots.mp4\" type=\"video/mp4\" />\n *\t\t<infoComponents>A video about my cat Boots, wearing boots.</infoComponents>\n *\t\t<MediaControls>\n *\t\t\t<leftComponents><Button backgroundOpacity=\"translucent\" icon=\"star\" /></leftComponents>\n *\t\t\t<rightComponents><Button backgroundOpacity=\"translucent\" icon=\"notification\" /></rightComponents>\n *\n *\t\t\t<Button backgroundOpacity=\"translucent\">Add To Favorites</Button>\n *\t\t\t<Button backgroundOpacity=\"translucent\" icon=\"search\" />\n *\t\t</MediaControls>\n *\t</VideoPlayer>\n * ```\n *\n * To invoke methods (e.g.: `fastForward()`) or get the current state (`getMediaState()`), store a\n * ref to the `VideoPlayer` within your component:\n *\n * ```\n * \t...\n *\n * \tsetVideoPlayer = (node) => {\n * \t\tthis.videoPlayer = node;\n * \t}\n *\n * \tplay () {\n * \t\tthis.videoPlayer.play();\n * \t}\n *\n * \trender () {\n * \t\treturn (\n * \t\t\t<VideoPlayer ref={this.setVideoPlayer} />\n * \t\t);\n * \t}\n * ```\n *\n * @class VideoPlayer\n * @memberof sandstone/VideoPlayer\n * @mixes ui/Slottable.Slottable\n * @ui\n * @public\n */\nexports.VideoPlayerBase = VideoPlayerBase;\nvar VideoPlayer = (0, _ApiDecorator[\"default\"])({\n  api: ['areControlsVisible', 'fastForward', 'getMediaState', 'getVideoNode', 'hideControls', 'jump', 'pause', 'play', 'rewind', 'seek', 'showControls', 'showFeedback', 'toggleControls']\n}, (0, _I18nDecorator.I18nContextDecorator)({\n  localeProp: 'locale'\n}, (0, _Slottable[\"default\"])({\n  slots: ['infoComponents', 'mediaControlsComponent', 'source', 'thumbnailComponent', 'videoComponent']\n}, (0, _FloatingLayer.FloatingLayerDecorator)({\n  floatLayerId: 'videoPlayerFloatingLayer'\n}, (0, _Skinnable[\"default\"])(VideoPlayerBase)))));\nexports.VideoPlayer = VideoPlayer;\nvar _default = VideoPlayer;\nexports[\"default\"] = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","enumerable","get","_Video","VideoPlayerBase","VideoPlayer","_ApiDecorator","_interopRequireDefault","require","_dispatcher","_util","_handle","_keymap","_platform","_propTypes","_I18nDecorator","_util2","_spotlight","_SpotlightContainerDecorator","_Spottable","_Announce","_ComponentOverride","_FloatingLayer","_FloatingLayerDecorator","_ForwardRef","_Media","_Slottable","_Touchable","_DurationFmt","_equals","_propTypes2","_react","_$L","_Button","_Skinnable","_Spinner","_MediaPlayer","_Overlay","_MediaTitle","_FeedbackContent","_FeedbackTooltip","_VideoPlayerModule","_jsxRuntime","_class","_excluded","_excluded2","obj","__esModule","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","err","isArray","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","configurable","writable","_toPropertyKey","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","isEnter","is","isLeft","isRight","jumpBackKeyCode","jumpForwardKeyCode","controlsHandleAboveSelectionKeys","getControlsHandleAboveHoldConfig","_ref","frequency","time","events","shouldJump","_ref2","_ref3","disabled","no5WayJump","mediaControlsVisible","sourceUnavailable","calcNumberValueOfPlaybackRate","rate","pbArray","split","parseInt","parseFloat","RootComponent","_ref4","playerRef","rest","jsx","ref","propTypes","SpottableDiv","Spottable","RootContainer","prop","SpotlightContainerDecorator","enterTo","defaultElement","concat","controlsHandleAbove","controlsFrame","ControlsContainer","straightOnly","memoGetDurFmt","memoize","style","useNative","getDurFmt","locale","window","forwardWithState","type","adaptEvent","handle","forwardWithPrevent","forwardToggleMore","forward","forwardControlsAvailable","forwardCustom","forwardPlay","forwardWillPlay","forwardPause","forwardWillPause","forwardRewind","forwardWillRewind","forwardFastForward","forwardWillFastForward","forwardJumpBackward","forwardWillJumpBackward","forwardJumpForward","forwardWillJumpForward","AnnounceState","READY","TITLE","TITLE_READ","INFO","DONE","_Component","_super","_props","_this","announceJob","Job","msg","clear","announceRef","announce","start","activityDetected","startAutoCloseTimeout","autoCloseTimeout","state","autoCloseJob","startAfter","stopAutoCloseTimeout","stop","generateId","Math","random","substr","markAnnounceRead","setState","showControls","startDelayedFeedbackHide","startDelayedTitleHide","_ref5","bottomControlsRendered","feedbackAction","feedbackVisible","mediaSliderVisible","miniFeedbackVisible","titleVisible","hideControls","stopDelayedFeedbackHide","stopDelayedMiniFeedbackHide","stopDelayedTitleHide","infoVisible","toggleControls","doAutoClose","_ref6","titleHideDelay","hideTitleJob","hideTitle","feedbackHideDelay","hideFeedbackJob","showFeedback","shouldShowSlider","pulsedPlaybackState","playbackRate","showMiniFeedback","_ref7","loading","duration","error","noMediaSliderFeedback","hideFeedback","startDelayedMiniFeedbackHide","delay","miniFeedbackHideDelay","hideMiniFeedbackJob","hideMiniFeedback","showControlsFromPointer","Spotlight","setPointerMode","clearPulsedPlayback","pulsedPlaybackRate","shouldShowMiniFeedback","ev","handleLoadStart","firstPlayReadFlag","prevCommand","noAutoPlay","speedIndex","currentTime","proportionPlayed","proportionLoaded","noAutoShowMediaControls","renderBottomControl","idle","handlePlay","play","handlePause","pause","handleRewind","rewind","handleFastForward","fastForward","handleJump","_ref8","keyCode","seekDisabled","jumpBy","min","max","preventTimeChange","jump","secondsToTime","video","includeHour","handleGlobalKeyDown","returnsTrue","forKey","getCurrent","getPointerMode","spotlightDisabled","preventDefault","stopImmediate","handleControlsHandleAboveHold","jumpButtonPressed","handleControlsHandleAboveKeyDown","_ref9","handleControlsHandleAboveKeyUp","_ref10","handleControlsHandleAboveDown","move","getDirection","handleEvent","el","updatedState","paused","sliderTooltipTime","isRewind","isForward","pauseAtEnd","getMediaState","send","action","setPlaybackRate","seek","timeIndex","isNaN","distance","toUpperCase","format","second","shouldResumePlayback","playbackRates","selectPlaybackRates","clampPlaybackRate","selectPlaybackRate","rateForSlowRewind","playbackRateHash","command","videoProxy","set","getVideoNode","areControlsVisible","cmd","idx","stopRewindJob","pbNumber","platform","webos","beginRewind","rewindManually","now","perfNow","rewindBeginTime","pbRate","adjustedDistance","startRewindJob","rewindJob","addStateToEvent","onVideoClick","onSliderChange","_ref11","sliderScrubbing","handleBack","handleKnobMove","sliderKnobProportion","proportion","seconds","floor","knobTime","handleSliderFocus","detached","handleSliderBlur","slider5WayPressJob","slider5WayPressed","handleSliderKeyDown","focus","mediaControlsSpotlightId","onJumpBackward","onJumpForward","handleToggleMore","showMoreComponents","liftDistance","current","setProperty","_ref12","handleMediaControlsClose","stopPropagation","setVideoRef","setTitleRef","node","titleRef","setAnnounceRef","id","spotlightId","createRef","titleOffsetHeight","bottomOffsetHeight","setApiProvider","componentDidMount","on","touch","document","addEventListener","capture","context","floatingLayerController","shouldComponentUpdate","nextProps","nextState","shallowEqual","componentDidUpdate","prevProps","prevState","infoComponents","offsetHeight","notify","available","bottomControls","querySelector","bottom","contains","blur","setActiveContainer","_current","componentWillUnmount","off","removeEventListener","unregister","isTimeBeyondSelection","selection","_selection","end","getControlsAriaProps","role","render","_this2","_this$props","backButtonAriaLabel","className","initialJumpDelay","jumpDelay","mediaControlsComponent","noMiniFeedback","noSlider","noSpinner","thumbnailComponent","thumbnailSrc","title","VideoComponent","videoComponent","mediaProps","children","onBack","onControlsAvailable","onFastForward","onPause","onPlay","onRewind","onWillFastForward","onWillJumpBackward","onWillJumpForward","onWillPause","onWillPlay","onWillRewind","onScrub","onSeekFailed","onSeekOutsideSelection","onToggleMore","thumbnailUnavailable","videoPath","autoPlay","controls","mediaComponent","onLoadStart","onUpdate","controlsAriaProps","proportionSelection","map","t","durFmt","controlsHandleAboveHoldConfig","jsxs","videoPlayer","onClick","isValidElement","cloneElement","bottomControlsVisible","centered","fullscreen","miniFeedback","playbackState","visible","back","icon","iconFlip","size","hidden","lift","infoFrame","Times","total","formatter","sliderContainer","noTotalTime","MediaSlider","backgroundProgress","forcePressed","onBlur","onChange","onFocus","onKeyDown","onKnobMove","thumbnailDeactivated","noCurrentTime","component","mediaDisabled","onClose","onJumpBackwardButtonClick","onJumpForwardButtonClick","holdConfig","onDown","onHold","onKeyUp","onSpotlightDown","selectionKeys","Component","displayName","func","number","string","bool","componentOverride","muted","shape","arrayOf","oneOfType","slowForward","slowRewind","renderableOverride","contextType","FloatingLayerContext","defaultProps","MediaControls","api","I18nContextDecorator","localeProp","slots","FloatingLayerDecorator","floatLayerId","_default"],"sources":["/home/islab/LGEE/project/frontend/node_modules/@enact/sandstone/VideoPlayer/VideoPlayer.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Video\", {\n  enumerable: true,\n  get: function get() {\n    return _Video[\"default\"];\n  }\n});\nexports[\"default\"] = exports.VideoPlayerBase = exports.VideoPlayer = void 0;\nvar _ApiDecorator = _interopRequireDefault(require(\"@enact/core/internal/ApiDecorator\"));\nvar _dispatcher = require(\"@enact/core/dispatcher\");\nvar _util = require(\"@enact/core/util\");\nvar _handle = require(\"@enact/core/handle\");\nvar _keymap = require(\"@enact/core/keymap\");\nvar _platform = require(\"@enact/core/platform\");\nvar _propTypes = _interopRequireDefault(require(\"@enact/core/internal/prop-types\"));\nvar _I18nDecorator = require(\"@enact/i18n/I18nDecorator\");\nvar _util2 = require(\"@enact/i18n/util\");\nvar _spotlight = require(\"@enact/spotlight\");\nvar _SpotlightContainerDecorator = require(\"@enact/spotlight/SpotlightContainerDecorator\");\nvar _Spottable = require(\"@enact/spotlight/Spottable\");\nvar _Announce = _interopRequireDefault(require(\"@enact/ui/AnnounceDecorator/Announce\"));\nvar _ComponentOverride = _interopRequireDefault(require(\"@enact/ui/ComponentOverride\"));\nvar _FloatingLayer = require(\"@enact/ui/FloatingLayer\");\nvar _FloatingLayerDecorator = require(\"@enact/ui/FloatingLayer/FloatingLayerDecorator\");\nvar _ForwardRef = _interopRequireDefault(require(\"@enact/ui/ForwardRef\"));\nvar _Media = _interopRequireDefault(require(\"@enact/ui/Media\"));\nvar _Slottable = _interopRequireDefault(require(\"@enact/ui/Slottable\"));\nvar _Touchable = _interopRequireDefault(require(\"@enact/ui/Touchable\"));\nvar _DurationFmt = _interopRequireDefault(require(\"ilib/lib/DurationFmt\"));\nvar _equals = _interopRequireDefault(require(\"ramda/src/equals\"));\nvar _propTypes2 = _interopRequireDefault(require(\"prop-types\"));\nvar _react = require(\"react\");\nvar _$L = _interopRequireDefault(require(\"../internal/$L\"));\nvar _Button = _interopRequireDefault(require(\"../Button\"));\nvar _Skinnable = _interopRequireDefault(require(\"../Skinnable\"));\nvar _Spinner = _interopRequireDefault(require(\"../Spinner\"));\nvar _MediaPlayer = require(\"../MediaPlayer\");\nvar _Overlay = _interopRequireDefault(require(\"./Overlay\"));\nvar _MediaTitle = _interopRequireDefault(require(\"./MediaTitle\"));\nvar _FeedbackContent = _interopRequireDefault(require(\"./FeedbackContent\"));\nvar _FeedbackTooltip = _interopRequireDefault(require(\"./FeedbackTooltip\"));\nvar _Video = _interopRequireDefault(require(\"./Video\"));\nvar _VideoPlayerModule = _interopRequireDefault(require(\"./VideoPlayer.module.css\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _class;\nvar _excluded = [\"playerRef\"],\n  _excluded2 = [\"backButtonAriaLabel\", \"className\", \"disabled\", \"infoComponents\", \"initialJumpDelay\", \"jumpDelay\", \"loading\", \"locale\", \"mediaControlsComponent\", \"no5WayJump\", \"noAutoPlay\", \"noMiniFeedback\", \"noSlider\", \"noSpinner\", \"selection\", \"spotlightDisabled\", \"spotlightId\", \"style\", \"thumbnailComponent\", \"thumbnailSrc\", \"title\", \"videoComponent\"];\n/**\n * Provides Sandstone-themed video player components.\n *\n * @module sandstone/VideoPlayer\n * @exports Video\n * @exports VideoPlayer\n * @exports VideoPlayerBase\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nvar isEnter = (0, _keymap.is)('enter');\nvar isLeft = (0, _keymap.is)('left');\nvar isRight = (0, _keymap.is)('right');\nvar jumpBackKeyCode = 37;\nvar jumpForwardKeyCode = 39;\nvar controlsHandleAboveSelectionKeys = [13, 16777221, jumpBackKeyCode, jumpForwardKeyCode];\nvar getControlsHandleAboveHoldConfig = function getControlsHandleAboveHoldConfig(_ref) {\n  var frequency = _ref.frequency,\n    time = _ref.time;\n  return {\n    events: [{\n      name: 'hold',\n      time: time\n    }],\n    frequency: frequency\n  };\n};\nvar shouldJump = function shouldJump(_ref2, _ref3) {\n  var disabled = _ref2.disabled,\n    no5WayJump = _ref2.no5WayJump;\n  var mediaControlsVisible = _ref3.mediaControlsVisible,\n    sourceUnavailable = _ref3.sourceUnavailable;\n  return !no5WayJump && !mediaControlsVisible && !(disabled || sourceUnavailable);\n};\nvar calcNumberValueOfPlaybackRate = function calcNumberValueOfPlaybackRate(rate) {\n  var pbArray = String(rate).split('/');\n  return pbArray.length > 1 ? parseInt(pbArray[0]) / parseInt(pbArray[1]) : parseFloat(rate);\n};\nvar RootComponent = function RootComponent(_ref4) {\n  var playerRef = _ref4.playerRef,\n    rest = _objectWithoutProperties(_ref4, _excluded);\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", _objectSpread({\n    ref: playerRef\n  }, rest));\n};\nRootComponent.propTypes = {\n  /*\n   * Called with the reference to the mediaControls node.\n   *\n   * @type {Object|Function}\n   * @public\n   */\n  playerRef: _propTypes[\"default\"].ref\n};\nvar SpottableDiv = (0, _Touchable[\"default\"])((0, _Spottable.Spottable)('div'));\nvar RootContainer = (0, _ForwardRef[\"default\"])({\n  prop: 'playerRef'\n}, (0, _SpotlightContainerDecorator.SpotlightContainerDecorator)({\n  enterTo: 'default-element',\n  defaultElement: [\".\".concat(_VideoPlayerModule[\"default\"].controlsHandleAbove), \".\".concat(_VideoPlayerModule[\"default\"].controlsFrame)]\n}, RootComponent));\nvar ControlsContainer = (0, _SpotlightContainerDecorator.SpotlightContainerDecorator)({\n  enterTo: 'default-element',\n  straightOnly: true\n}, 'div');\nvar memoGetDurFmt = (0, _util.memoize)(function /* locale */\n() {\n  return new _DurationFmt[\"default\"]({\n    length: 'medium',\n    style: 'clock',\n    useNative: false\n  });\n});\nvar getDurFmt = function getDurFmt(locale) {\n  if (typeof window === 'undefined') return null;\n  return memoGetDurFmt(locale);\n};\nvar forwardWithState = function forwardWithState(type) {\n  return (0, _handle.adaptEvent)(function () {\n    return {\n      type: type\n    };\n  }, (0, _handle.handle)((0, _handle.adaptEvent)((0, _handle.call)('addStateToEvent'), (0, _handle.forwardWithPrevent)(type))));\n};\nvar forwardToggleMore = (0, _handle.forward)('onToggleMore');\n\n// provide forwarding of events on media controls\nvar forwardControlsAvailable = (0, _handle.forwardCustom)('onControlsAvailable');\nvar forwardPlay = forwardWithState('onPlay');\nvar forwardWillPlay = forwardWithState('onWillPlay');\nvar forwardPause = forwardWithState('onPause');\nvar forwardWillPause = forwardWithState('onWillPause');\nvar forwardRewind = forwardWithState('onRewind');\nvar forwardWillRewind = forwardWithState('onWillRewind');\nvar forwardFastForward = forwardWithState('onFastForward');\nvar forwardWillFastForward = forwardWithState('onWillFastForward');\nvar forwardJumpBackward = forwardWithState('onJumpBackward');\nvar forwardWillJumpBackward = forwardWithState('onWillJumpBackward');\nvar forwardJumpForward = forwardWithState('onJumpForward');\nvar forwardWillJumpForward = forwardWithState('onWillJumpForward');\nvar AnnounceState = {\n  // Video is loaded but additional announcements have not been made\n  READY: 0,\n  // The title should be announced\n  TITLE: 1,\n  // The title has been announce\n  TITLE_READ: 2,\n  // The infoComponents should be announce\n  INFO: 3,\n  // All announcements have been made\n  DONE: 4\n};\n\n/**\n * Every callback sent by {@link sandstone/VideoPlayer|VideoPlayer} receives a status package,\n * which includes an object with the following key/value pairs as the first argument:\n *\n * @typedef {Object} videoStatus\n * @memberof sandstone/VideoPlayer\n * @property {String} type - Type of event that triggered this callback\n * @property {Number} currentTime - Playback index of the media in seconds\n * @property {Number} duration - Media's entire duration in seconds\n * @property {Boolean} paused - Playing vs paused state. `true` means the media is paused\n * @property {Number} playbackRate - Current playback rate, as a number\n * @property {Number} proportionLoaded - A value between `0` and `1` representing the proportion of the media that has loaded\n * @property {Number} proportionPlayed - A value between `0` and `1` representing the proportion of the media that has already been shown\n *\n * @public\n */\n\n/**\n * A set of playback rates when media fast forwards, rewinds, slow-forwards, or slow-rewinds.\n *\n * The number used for each operation is proportional to the normal playing speed, 1. If the rate\n * is less than 1, it will play slower than normal speed, and, if it is larger than 1, it will play\n * faster. If it is negative, it will play backward.\n *\n * The order of numbers represents the incremental order of rates that will be used for each\n * operation. Note that rates can be expressed as decimals, strings, and fractions.\n * (e.g.: `0.5`, `'0.5'`, `'1/2'`).\n *\n * @typedef {Object} playbackRateHash\n * @memberof sandstone/VideoPlayer\n * @property {[]} fastForward - An array of playback rates when media fast forwards\n * @property {[]} rewind - An array of playback rates when media rewinds\n * @property {[]} slowForward - An array of playback rates when media slow-forwards\n * @property {[]} slowRewind - An array of playback rates when media slow-rewinds\n *\n * @public\n */\n\n/**\n * A player for video {@link sandstone/VideoPlayer.VideoPlayerBase}.\n *\n * @class VideoPlayerBase\n * @memberof sandstone/VideoPlayer\n * @ui\n * @public\n */\nvar VideoPlayerBase = (_class = /*#__PURE__*/function (_Component) {\n  _inherits(VideoPlayerBase, _Component);\n  var _super = _createSuper(VideoPlayerBase);\n  function VideoPlayerBase(_props) {\n    var _this;\n    _classCallCheck(this, VideoPlayerBase);\n    _this = _super.call(this, _props);\n\n    // Internal State\n    //\n    // Internal Methods\n    //\n    _this.announceJob = new _util.Job(function (msg, clear) {\n      return _this.announceRef && _this.announceRef.announce(msg, clear);\n    }, 200);\n    _this.announce = function (msg, clear) {\n      _this.announceJob.start(msg, clear);\n    };\n    _this.activityDetected = function () {\n      _this.startAutoCloseTimeout();\n    };\n    _this.startAutoCloseTimeout = function () {\n      // If this.state.more is used as a reference for when this function should fire, timing for\n      // detection of when \"more\" is pressed vs when the state is updated is mismatched. Using an\n      // instance variable that's only set and used for this express purpose seems cleanest.\n      if (_this.props.autoCloseTimeout && _this.state.mediaControlsVisible) {\n        _this.autoCloseJob.startAfter(_this.props.autoCloseTimeout);\n      }\n    };\n    _this.stopAutoCloseTimeout = function () {\n      _this.autoCloseJob.stop();\n    };\n    _this.generateId = function () {\n      return Math.random().toString(36).substr(2, 8);\n    };\n    /**\n     * If the announce state is either ready to read the title or ready to read info, advance the\n     * state to \"read\".\n     *\n     * @returns {Boolean} Returns true to be used in event handlers\n     * @private\n     */\n    _this.markAnnounceRead = function () {\n      if (_this.state.announce === AnnounceState.TITLE) {\n        _this.setState({\n          announce: AnnounceState.TITLE_READ\n        });\n      } else if (_this.state.announce === AnnounceState.INFO) {\n        _this.setState({\n          announce: AnnounceState.DONE\n        });\n      }\n      return true;\n    };\n    /**\n     * Shows media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.showControls = function () {\n      if (_this.props.disabled) {\n        return;\n      }\n      _this.startDelayedFeedbackHide();\n      _this.startDelayedTitleHide();\n      _this.setState(function (_ref5) {\n        var announce = _ref5.announce;\n        if (announce === AnnounceState.READY) {\n          // if we haven't read the title yet, do so this time\n          announce = AnnounceState.TITLE;\n        } else if (announce === AnnounceState.TITLE) {\n          // if we have read the title, advance to INFO so title isn't read again\n          announce = AnnounceState.TITLE_READ;\n        }\n        return {\n          announce: announce,\n          bottomControlsRendered: true,\n          feedbackAction: 'idle',\n          feedbackVisible: true,\n          mediaControlsVisible: true,\n          mediaSliderVisible: true,\n          miniFeedbackVisible: false,\n          titleVisible: true\n        };\n      });\n    };\n    /**\n     * Hides media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.hideControls = function () {\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.stopDelayedTitleHide();\n      _this.stopAutoCloseTimeout();\n      _this.setState({\n        feedbackAction: 'idle',\n        feedbackVisible: false,\n        mediaControlsVisible: false,\n        mediaSliderVisible: false,\n        miniFeedbackVisible: false,\n        infoVisible: false\n      });\n      _this.markAnnounceRead();\n    };\n    /**\n     * Toggles the media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.toggleControls = function () {\n      if (_this.state.mediaControlsVisible) {\n        _this.hideControls();\n      } else {\n        _this.showControls();\n      }\n    };\n    _this.doAutoClose = function () {\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedTitleHide();\n      _this.setState(function (_ref6) {\n        var mediaSliderVisible = _ref6.mediaSliderVisible,\n          miniFeedbackVisible = _ref6.miniFeedbackVisible;\n        return {\n          feedbackVisible: false,\n          mediaControlsVisible: false,\n          mediaSliderVisible: mediaSliderVisible && miniFeedbackVisible,\n          infoVisible: false\n        };\n      });\n      _this.markAnnounceRead();\n    };\n    _this.autoCloseJob = new _util.Job(_this.doAutoClose);\n    _this.startDelayedTitleHide = function () {\n      if (_this.props.titleHideDelay) {\n        _this.hideTitleJob.startAfter(_this.props.titleHideDelay);\n      }\n    };\n    _this.stopDelayedTitleHide = function () {\n      _this.hideTitleJob.stop();\n    };\n    _this.hideTitle = function () {\n      _this.setState({\n        titleVisible: false\n      });\n    };\n    _this.hideTitleJob = new _util.Job(_this.hideTitle);\n    _this.startDelayedFeedbackHide = function () {\n      if (_this.props.feedbackHideDelay) {\n        _this.hideFeedbackJob.startAfter(_this.props.feedbackHideDelay);\n      }\n    };\n    _this.stopDelayedFeedbackHide = function () {\n      _this.hideFeedbackJob.stop();\n    };\n    _this.showFeedback = function () {\n      if (_this.state.mediaControlsVisible) {\n        _this.setState({\n          feedbackVisible: true\n        });\n      } else {\n        var shouldShowSlider = _this.pulsedPlaybackState !== null || calcNumberValueOfPlaybackRate(_this.playbackRate) !== 1;\n        if (_this.showMiniFeedback && (!_this.state.miniFeedbackVisible || _this.state.mediaSliderVisible !== shouldShowSlider)) {\n          _this.setState(function (_ref7) {\n            var loading = _ref7.loading,\n              duration = _ref7.duration,\n              error = _ref7.error;\n            return {\n              mediaSliderVisible: shouldShowSlider && !_this.props.noMediaSliderFeedback,\n              miniFeedbackVisible: !(loading || !duration || error)\n            };\n          });\n        }\n      }\n    };\n    _this.hideFeedback = function () {\n      if (_this.state.feedbackVisible && _this.state.feedbackAction !== 'focus') {\n        _this.setState({\n          feedbackVisible: false,\n          feedbackAction: 'idle'\n        });\n      }\n    };\n    _this.hideFeedbackJob = new _util.Job(_this.hideFeedback);\n    _this.startDelayedMiniFeedbackHide = function () {\n      var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.miniFeedbackHideDelay;\n      if (delay) {\n        _this.hideMiniFeedbackJob.startAfter(delay);\n      }\n    };\n    _this.stopDelayedMiniFeedbackHide = function () {\n      _this.hideMiniFeedbackJob.stop();\n    };\n    _this.hideMiniFeedback = function () {\n      if (_this.state.miniFeedbackVisible) {\n        _this.showMiniFeedback = false;\n        _this.setState({\n          mediaSliderVisible: false,\n          miniFeedbackVisible: false\n        });\n      }\n    };\n    _this.hideMiniFeedbackJob = new _util.Job(_this.hideMiniFeedback);\n    _this.handle = _handle.handle.bind(_assertThisInitialized(_this));\n    _this.showControlsFromPointer = function () {\n      _spotlight.Spotlight.setPointerMode(false);\n      _this.showControls();\n    };\n    _this.clearPulsedPlayback = function () {\n      _this.pulsedPlaybackRate = null;\n      _this.pulsedPlaybackState = null;\n    };\n    // only show mini feedback if playback controls are invoked by a key event\n    _this.shouldShowMiniFeedback = function (ev) {\n      if (ev.type === 'keyup') {\n        _this.showMiniFeedback = true;\n      }\n      return true;\n    };\n    _this.handleLoadStart = function () {\n      _this.firstPlayReadFlag = true;\n      _this.prevCommand = _this.props.noAutoPlay ? 'pause' : 'play';\n      _this.speedIndex = 0;\n      _this.setState({\n        announce: AnnounceState.READY,\n        currentTime: 0,\n        sourceUnavailable: true,\n        proportionPlayed: 0,\n        proportionLoaded: 0\n      });\n      if (!_this.props.noAutoShowMediaControls) {\n        if (!_this.state.bottomControlsRendered) {\n          _this.renderBottomControl.idle();\n        } else {\n          _this.showControls();\n        }\n      }\n    };\n    _this.handlePlay = _this.handle(forwardWillPlay, _this.shouldShowMiniFeedback, function () {\n      return _this.play();\n    }, forwardPlay);\n    _this.handlePause = _this.handle(forwardWillPause, _this.shouldShowMiniFeedback, function () {\n      return _this.pause();\n    }, forwardPause);\n    _this.handleRewind = _this.handle(forwardWillRewind, _this.shouldShowMiniFeedback, function () {\n      return _this.rewind();\n    }, forwardRewind);\n    _this.handleFastForward = _this.handle(forwardWillFastForward, _this.shouldShowMiniFeedback, function () {\n      return _this.fastForward();\n    }, forwardFastForward);\n    _this.handleJump = function (_ref8) {\n      var keyCode = _ref8.keyCode;\n      if (_this.props.seekDisabled) {\n        (0, _handle.forwardCustom)('onSeekFailed')(null, _this.props);\n      } else {\n        var jumpBy = ((0, _keymap.is)('left', keyCode) ? -1 : 1) * _this.props.jumpBy;\n        var time = Math.min(_this.state.duration, Math.max(0, _this.state.currentTime + jumpBy));\n        if (_this.preventTimeChange(time)) return;\n        _this.showMiniFeedback = true;\n        _this.jump(jumpBy);\n        _this.announceJob.startAfter(500, (0, _MediaPlayer.secondsToTime)(_this.video.currentTime, getDurFmt(_this.props.locale), {\n          includeHour: true\n        }));\n      }\n    };\n    _this.handleGlobalKeyDown = _this.handle((0, _handle.returnsTrue)(_this.activityDetected), (0, _handle.forKey)('down'), function () {\n      return !_this.state.mediaControlsVisible && (!_spotlight.Spotlight.getCurrent() && _spotlight.Spotlight.getPointerMode() || !_spotlight.Spotlight.getPointerMode()) && !_this.props.spotlightDisabled;\n    }, _handle.preventDefault, _handle.stopImmediate, _this.showControlsFromPointer);\n    _this.handleControlsHandleAboveHold = function () {\n      if (shouldJump(_this.props, _this.state)) {\n        _this.handleJump({\n          keyCode: _this.jumpButtonPressed === -1 ? jumpBackKeyCode : jumpForwardKeyCode\n        });\n      }\n    };\n    _this.handleControlsHandleAboveKeyDown = function (_ref9) {\n      var keyCode = _ref9.keyCode;\n      if (isEnter(keyCode)) {\n        _this.jumpButtonPressed = 0;\n      } else if (isLeft(keyCode)) {\n        _this.jumpButtonPressed = -1;\n      } else if (isRight(keyCode)) {\n        _this.jumpButtonPressed = 1;\n      }\n    };\n    _this.handleControlsHandleAboveKeyUp = function (_ref10) {\n      var keyCode = _ref10.keyCode;\n      if (isEnter(keyCode) || isLeft(keyCode) || isRight(keyCode)) {\n        _this.jumpButtonPressed = null;\n      }\n    };\n    _this.handleControlsHandleAboveDown = function () {\n      if (_this.jumpButtonPressed === 0) {\n        _this.showControls();\n      } else if (_this.jumpButtonPressed === -1 || _this.jumpButtonPressed === 1) {\n        var keyCode = _this.jumpButtonPressed === -1 ? jumpBackKeyCode : jumpForwardKeyCode;\n        if (shouldJump(_this.props, _this.state)) {\n          _this.handleJump({\n            keyCode: keyCode\n          });\n        } else {\n          _spotlight.Spotlight.move((0, _spotlight.getDirection)(keyCode));\n        }\n      }\n    };\n    //\n    // Media Interaction Methods\n    //\n    _this.handleEvent = function () {\n      var el = _this.video;\n      var updatedState = {\n        // Standard media properties\n        currentTime: el.currentTime,\n        duration: el.duration,\n        paused: el.playbackRate !== 1 || el.paused,\n        playbackRate: el.playbackRate,\n        // Non-standard state computed from properties\n        error: el.error,\n        loading: el.loading,\n        proportionLoaded: el.proportionLoaded,\n        proportionPlayed: el.proportionPlayed || 0,\n        sliderTooltipTime: el.currentTime,\n        // note: `el.loading && this.state.sourceUnavailable == false` is equivalent to `oncanplaythrough`\n        sourceUnavailable: el.loading && _this.state.sourceUnavailable || el.error\n      };\n\n      // If there's an error, we're obviously not loading, no matter what the readyState is.\n      if (updatedState.error) updatedState.loading = false;\n      var isRewind = _this.prevCommand === 'rewind' || _this.prevCommand === 'slowRewind';\n      var isForward = _this.prevCommand === 'fastForward' || _this.prevCommand === 'slowForward';\n      if (_this.props.pauseAtEnd && (el.currentTime === 0 && isRewind || el.currentTime === el.duration && isForward)) {\n        _this.pause();\n      }\n      _this.setState(updatedState);\n    };\n    _this.renderBottomControl = new _util.Job(function () {\n      if (!_this.state.bottomControlsRendered) {\n        _this.setState({\n          bottomControlsRendered: true\n        });\n      }\n    });\n    /**\n     * Returns an object with the current state of the media including `currentTime`, `duration`,\n     * `paused`, `playbackRate`, `proportionLoaded`, and `proportionPlayed`.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @returns {Object}\n     * @public\n     */\n    _this.getMediaState = function () {\n      return {\n        currentTime: _this.video.currentTime,\n        duration: _this.state.duration,\n        paused: _this.video.playbackRate !== 1 || _this.video.paused,\n        playbackRate: _this.video.playbackRate,\n        proportionLoaded: _this.video.proportionLoaded,\n        proportionPlayed: _this.video.proportionPlayed || 0\n      };\n    };\n    /**\n     * The primary means of interacting with the `<video>` element.\n     *\n     * @param  {String} action The method to preform.\n     * @param  {Multiple} props  The arguments, in the format that the action method requires.\n     *\n     * @private\n     */\n    _this.send = function (action, props) {\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      _this.startDelayedFeedbackHide();\n      _this.video[action](props);\n    };\n    /**\n     * Programmatically plays the current media.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.play = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.speedIndex = 0;\n      // must happen before send() to ensure feedback uses the right value\n      // TODO: refactor into this.state member\n      _this.prevCommand = 'play';\n      _this.setPlaybackRate(1);\n      _this.send('play');\n      _this.announce((0, _$L[\"default\"])('Play'));\n      _this.startDelayedMiniFeedbackHide(5000);\n      return true;\n    };\n    /**\n     * Programmatically pauses the current media.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.pause = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.speedIndex = 0;\n      // must happen before send() to ensure feedback uses the right value\n      // TODO: refactor into this.state member\n      _this.prevCommand = 'pause';\n      _this.setPlaybackRate(1);\n      _this.send('pause');\n      _this.announce((0, _$L[\"default\"])('Pause'));\n      _this.stopDelayedMiniFeedbackHide();\n      return true;\n    };\n    /**\n     * Set the media playback time index\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @param {Number} timeIndex - Time index to seek\n     * @public\n     */\n    _this.seek = function (timeIndex) {\n      if (!_this.props.seekDisabled && !isNaN(_this.video.duration) && !_this.state.sourceUnavailable) {\n        _this.video.currentTime = timeIndex;\n      } else {\n        (0, _handle.forwardCustom)('onSeekFailed')(null, _this.props);\n      }\n    };\n    /**\n     * Step a given amount of time away from the current playback position.\n     * Like {@link sandstone/VideoPlayer.VideoPlayerBase.seek|seek} but relative.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @param {Number} distance - Time value to jump\n     * @public\n     */\n    _this.jump = function (distance) {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.pulsedPlaybackRate = (0, _util2.toUpperCase)(new _DurationFmt[\"default\"]({\n        length: 'long'\n      }).format({\n        second: _this.props.jumpBy\n      }));\n      _this.pulsedPlaybackState = distance > 0 ? 'jumpForward' : 'jumpBackward';\n      _this.showFeedback();\n      _this.startDelayedFeedbackHide();\n      _this.seek(_this.state.currentTime + distance);\n      _this.startDelayedMiniFeedbackHide();\n      return true;\n    };\n    /**\n     * Changes the playback speed.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.fastForward = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      var shouldResumePlayback = false;\n      switch (_this.prevCommand) {\n        case 'slowForward':\n          if (_this.speedIndex === _this.playbackRates.length - 1) {\n            // reached to the end of array => fastforward\n            _this.selectPlaybackRates('fastForward');\n            _this.speedIndex = 0;\n            _this.prevCommand = 'fastForward';\n          } else {\n            _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          }\n          break;\n        case 'pause':\n          _this.selectPlaybackRates('slowForward');\n          if (_this.state.paused) {\n            shouldResumePlayback = true;\n          }\n          _this.speedIndex = 0;\n          _this.prevCommand = 'slowForward';\n          break;\n        case 'fastForward':\n          _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          _this.prevCommand = 'fastForward';\n          break;\n        default:\n          _this.selectPlaybackRates('fastForward');\n          _this.speedIndex = 0;\n          _this.prevCommand = 'fastForward';\n          if (_this.state.paused) {\n            shouldResumePlayback = true;\n          }\n          break;\n      }\n      _this.setPlaybackRate(_this.selectPlaybackRate(_this.speedIndex));\n      if (shouldResumePlayback) _this.send('play');\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      return true;\n    };\n    /**\n     * Changes the playback speed.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.rewind = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      var rateForSlowRewind = _this.props.playbackRateHash['slowRewind'];\n      var shouldResumePlayback = false,\n        command = 'rewind';\n      if (_this.video.currentTime === 0) {\n        // Do not rewind if currentTime is 0. We're already at the beginning.\n        return true;\n      }\n      switch (_this.prevCommand) {\n        case 'slowRewind':\n          if (_this.speedIndex === _this.playbackRates.length - 1) {\n            // reached to the end of array => go to rewind\n            _this.selectPlaybackRates(command);\n            _this.speedIndex = 0;\n            _this.prevCommand = command;\n          } else {\n            _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          }\n          break;\n        case 'pause':\n          // If it's possible to slowRewind, do it, otherwise just leave it as normal rewind : QEVENTSEVT-17386\n          if (rateForSlowRewind && rateForSlowRewind.length >= 0) {\n            command = 'slowRewind';\n          }\n          _this.selectPlaybackRates(command);\n          if (_this.state.paused && _this.state.duration > _this.state.currentTime) {\n            shouldResumePlayback = true;\n          }\n          _this.speedIndex = 0;\n          _this.prevCommand = command;\n          break;\n        case 'rewind':\n          _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          _this.prevCommand = command;\n          break;\n        default:\n          _this.selectPlaybackRates(command);\n          _this.speedIndex = 0;\n          _this.prevCommand = command;\n          break;\n      }\n      _this.setPlaybackRate(_this.selectPlaybackRate(_this.speedIndex));\n      if (shouldResumePlayback) _this.send('play');\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      return true;\n    };\n    // Creates a proxy to the video node if Proxy is supported\n    _this.videoProxy = typeof Proxy !== 'function' ? null : new Proxy({}, {\n      get: function get(target, name) {\n        var value = _this.video[name];\n        if (typeof value === 'function') {\n          value = value.bind(_this.video);\n        }\n        return value;\n      },\n      set: function set(target, name, value) {\n        return _this.video[name] = value;\n      }\n    });\n    /**\n     * Returns a proxy to the underlying `<video>` node currently used by the VideoPlayer\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.getVideoNode = function () {\n      return _this.videoProxy || _this.video;\n    };\n    _this.areControlsVisible = function () {\n      return _this.state.mediaControlsVisible;\n    };\n    /**\n     * Sets the playback rate type (from the keys of {@link sandstone/VideoPlayer.VideoPlayer.playbackRateHash|playbackRateHash}).\n     *\n     * @param {String} cmd - Key of the playback rate type.\n     * @private\n     */\n    _this.selectPlaybackRates = function (cmd) {\n      _this.playbackRates = _this.props.playbackRateHash[cmd];\n    };\n    /**\n     * Changes playbackRate to a valid value when initiating fast forward or rewind.\n     *\n     * @param {Number} idx - The index of the desired playback rate.\n     * @private\n     */\n    _this.clampPlaybackRate = function (idx) {\n      if (!_this.playbackRates) {\n        return;\n      }\n      return idx % _this.playbackRates.length;\n    };\n    /**\n     * Retrieves the playback rate value.\n     *\n     * @param {Number} idx - The index of the desired playback rate.\n     * @returns {Number|String} The playback rate value.\n     * @private\n     */\n    _this.selectPlaybackRate = function (idx) {\n      return _this.playbackRates[idx];\n    };\n    /**\n     * Sets playbackRate.\n     *\n     * @param {Number|String} rate - The desired playback rate.\n     * @private\n     */\n    _this.setPlaybackRate = function (rate) {\n      // Stop rewind (if happening)\n      _this.stopRewindJob();\n\n      // Make sure rate is a string\n      _this.playbackRate = String(rate);\n      var pbNumber = calcNumberValueOfPlaybackRate(_this.playbackRate);\n      if (!_platform.platform.webos) {\n        // ReactDOM throws error for setting negative value for playbackRate\n        _this.video.playbackRate = pbNumber < 0 ? 0 : pbNumber;\n\n        // For supporting cross browser behavior\n        if (pbNumber < 0) {\n          _this.beginRewind();\n        }\n      } else {\n        // Set native playback rate\n        _this.video.playbackRate = pbNumber;\n      }\n    };\n    /**\n     * Calculates the time that has elapsed since. This is necessary for browsers until negative\n     * playback rate is directly supported.\n     *\n     * @private\n     */\n    _this.rewindManually = function () {\n      var now = (0, _util.perfNow)(),\n        distance = now - _this.rewindBeginTime,\n        pbRate = calcNumberValueOfPlaybackRate(_this.playbackRate),\n        adjustedDistance = distance * pbRate / 1000;\n      _this.jump(adjustedDistance);\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.startRewindJob(); // Issue another rewind tick\n    };\n    _this.rewindJob = new _util.Job(_this.rewindManually, 100);\n    /**\n     * Starts rewind job.\n     *\n     * @private\n     */\n    _this.startRewindJob = function () {\n      _this.rewindBeginTime = (0, _util.perfNow)();\n      _this.rewindJob.start();\n    };\n    /**\n     * Stops rewind job.\n     *\n     * @private\n     */\n    _this.stopRewindJob = function () {\n      _this.rewindJob.stop();\n    };\n    /**\n     * Implements custom rewind functionality (until browsers support negative playback rate).\n     *\n     * @private\n     */\n    _this.beginRewind = function () {\n      _this.send('pause');\n      _this.startRewindJob();\n    };\n    //\n    // Handled Media events\n    //\n    _this.addStateToEvent = function (ev) {\n      return _objectSpread({\n        // More props from `ev` may be added here as needed, but a full copy via `...ev`\n        // overloads Storybook's Action Logger and likely has other perf fallout.\n        type: ev.type\n      }, _this.getMediaState());\n    };\n    //\n    // Player Interaction events\n    //\n    _this.onVideoClick = function () {\n      _this.toggleControls();\n    };\n    _this.onSliderChange = function (_ref11) {\n      var value = _ref11.value;\n      var time = value * _this.state.duration;\n      if (_this.preventTimeChange(time)) return;\n      _this.seek(time);\n      _this.sliderScrubbing = false;\n    };\n    _this.handleBack = _this.handle((0, _handle.forwardCustom)('onBack'));\n    _this.handleKnobMove = function (ev) {\n      _this.sliderScrubbing = true;\n\n      // prevent announcing repeatedly when the knob is detached from the progress.\n      // TODO: fix Slider to not send onKnobMove when the knob hasn't, in fact, moved\n      if (_this.sliderKnobProportion !== ev.proportion) {\n        _this.sliderKnobProportion = ev.proportion;\n        var seconds = Math.floor(_this.sliderKnobProportion * _this.video.duration);\n        if (!isNaN(seconds)) {\n          var knobTime = (0, _MediaPlayer.secondsToTime)(seconds, getDurFmt(_this.props.locale), {\n            includeHour: true\n          });\n          (0, _handle.forward)('onScrub', _objectSpread(_objectSpread({}, ev), {}, {\n            seconds: seconds,\n            type: 'onScrub'\n          }), _this.props);\n          _this.announce(\"\".concat((0, _$L[\"default\"])('jump to'), \" \").concat(knobTime), true);\n        }\n      }\n    };\n    _this.handleSliderFocus = function () {\n      var seconds = Math.floor(_this.sliderKnobProportion * _this.video.duration);\n      _this.sliderScrubbing = true;\n      _this.setState({\n        feedbackAction: 'focus',\n        feedbackVisible: true\n      });\n      _this.stopDelayedFeedbackHide();\n      if (!isNaN(seconds)) {\n        var knobTime = (0, _MediaPlayer.secondsToTime)(seconds, getDurFmt(_this.props.locale), {\n          includeHour: true\n        });\n        (0, _handle.forward)('onScrub', {\n          detached: _this.sliderScrubbing,\n          proportion: _this.sliderKnobProportion,\n          seconds: seconds,\n          type: 'onScrub'\n        }, _this.props);\n        _this.announce(\"\".concat((0, _$L[\"default\"])('jump to'), \" \").concat(knobTime), true);\n      }\n    };\n    _this.handleSliderBlur = function () {\n      _this.sliderScrubbing = false;\n      _this.startDelayedFeedbackHide();\n      _this.setState(function () {\n        return {\n          feedbackAction: 'blur',\n          feedbackVisible: true\n        };\n      });\n    };\n    _this.slider5WayPressJob = new _util.Job(function () {\n      _this.setState({\n        slider5WayPressed: false\n      });\n    }, 200);\n    _this.handleSliderKeyDown = function (ev) {\n      var keyCode = ev.keyCode;\n      if ((0, _keymap.is)('enter', keyCode)) {\n        _this.setState({\n          slider5WayPressed: true\n        }, _this.slider5WayPressJob.start());\n      } else if ((0, _keymap.is)('down', keyCode)) {\n        _spotlight.Spotlight.setPointerMode(false);\n        if (_spotlight.Spotlight.focus(_this.mediaControlsSpotlightId)) {\n          (0, _handle.preventDefault)(ev);\n          (0, _handle.stopImmediate)(ev);\n        }\n      } else if ((0, _keymap.is)('up', keyCode)) {\n        _spotlight.Spotlight.setPointerMode(false);\n      }\n    };\n    _this.onJumpBackward = _this.handle(forwardWillJumpBackward, function () {\n      return _this.jump(-1 * _this.props.jumpBy);\n    }, forwardJumpBackward);\n    _this.onJumpForward = _this.handle(forwardWillJumpForward, function () {\n      return _this.jump(_this.props.jumpBy);\n    }, forwardJumpForward);\n    _this.handleToggleMore = function (ev) {\n      var showMoreComponents = ev.showMoreComponents,\n        liftDistance = ev.liftDistance;\n      forwardToggleMore(ev, _this.props);\n      if (!showMoreComponents) {\n        _this.startAutoCloseTimeout(); // Restore the timer since we are leaving \"more.\n        // Restore the title-hide now that we're finished with \"more\".\n        _this.startDelayedTitleHide();\n      } else {\n        // Interrupt the title-hide since we don't want it hiding autonomously in \"more\".\n        _this.stopDelayedTitleHide();\n      }\n      _this.playerRef.current.style.setProperty('--liftDistance', \"\".concat(liftDistance, \"px\"));\n      _this.setState(function (_ref12) {\n        var announce = _ref12.announce;\n        return {\n          infoVisible: showMoreComponents,\n          titleVisible: true,\n          announce: announce < AnnounceState.INFO ? AnnounceState.INFO : AnnounceState.DONE\n        };\n      });\n    };\n    _this.handleMediaControlsClose = function (ev) {\n      _this.hideControls();\n      ev.stopPropagation();\n    };\n    _this.setVideoRef = function (video) {\n      _this.video = video;\n    };\n    _this.setTitleRef = function (node) {\n      _this.titleRef = node;\n    };\n    _this.setAnnounceRef = function (node) {\n      _this.announceRef = node;\n    };\n    _this.video = null;\n    _this.pulsedPlaybackRate = null;\n    _this.pulsedPlaybackState = null;\n    _this.prevCommand = _props.noAutoPlay ? 'pause' : 'play';\n    _this.showMiniFeedback = false;\n    _this.speedIndex = 0;\n    _this.id = _this.generateId();\n    _this.selectPlaybackRates('fastForward');\n    _this.sliderKnobProportion = 0;\n    _this.mediaControlsSpotlightId = _props.spotlightId + '_mediaControls';\n    _this.jumpButtonPressed = null;\n    _this.playerRef = /*#__PURE__*/(0, _react.createRef)();\n\n    // Re-render-necessary State\n    _this.state = {\n      announce: AnnounceState.READY,\n      currentTime: 0,\n      duration: 0,\n      error: false,\n      loading: false,\n      paused: _props.noAutoPlay,\n      playbackRate: 1,\n      titleOffsetHeight: 0,\n      bottomOffsetHeight: 0,\n      // Non-standard state computed from properties\n      bottomControlsRendered: false,\n      feedbackAction: 'idle',\n      feedbackVisible: false,\n      infoVisible: false,\n      mediaControlsVisible: false,\n      mediaSliderVisible: false,\n      miniFeedbackVisible: false,\n      proportionLoaded: 0,\n      proportionPlayed: 0,\n      sourceUnavailable: true,\n      titleVisible: true\n    };\n    if (_props.setApiProvider) {\n      _props.setApiProvider(_assertThisInitialized(_this));\n    }\n    return _this;\n  }\n  _createClass(VideoPlayerBase, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      (0, _dispatcher.on)('mousemove', this.activityDetected);\n      if (_platform.platform.touch) {\n        (0, _dispatcher.on)('touchmove', this.activityDetected);\n      }\n      document.addEventListener('keydown', this.handleGlobalKeyDown, {\n        capture: true\n      });\n      document.addEventListener('wheel', this.activityDetected, {\n        capture: true\n      });\n      this.startDelayedFeedbackHide();\n      if (this.context && typeof this.context === 'function') {\n        this.floatingLayerController = this.context(function () {});\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (\n      // Use shallow props compare instead of source comparison to support possible changes\n      // from mediaComponent.\n      (0, _util.shallowEqual)(this.props, nextProps) && !this.state.miniFeedbackVisible && this.state.miniFeedbackVisible === nextState.miniFeedbackVisible && !this.state.mediaSliderVisible && this.state.mediaSliderVisible === nextState.mediaSliderVisible && this.state.loading === nextState.loading && this.props.loading === nextProps.loading && (this.state.currentTime !== nextState.currentTime || this.state.proportionPlayed !== nextState.proportionPlayed || this.state.sliderTooltipTime !== nextState.sliderTooltipTime)) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.titleRef && this.state.infoVisible && (!prevState.infoVisible || !(0, _equals[\"default\"])(this.props.infoComponents, prevProps.infoComponents))) {\n        var node = this.titleRef;\n        node.style.setProperty('--infoComponentsOffset', \"\".concat(node.offsetHeight, \"px\"));\n      }\n      if (!this.state.mediaControlsVisible && prevState.mediaControlsVisible !== this.state.mediaControlsVisible || !this.state.mediaSliderVisible && prevState.mediaSliderVisible !== this.state.mediaSliderVisible) {\n        this.floatingLayerController.notify({\n          action: 'closeAll'\n        });\n      }\n      if (this.props.spotlightId !== prevProps.spotlightId) {\n        this.mediaControlsSpotlightId = this.props.spotlightId + '_mediaControls';\n      }\n      if (!this.state.mediaControlsVisible && prevState.mediaControlsVisible) {\n        forwardControlsAvailable({\n          available: false\n        }, this.props);\n        this.stopAutoCloseTimeout();\n        if (!this.props.spotlightDisabled) {\n          // If last focused item were in the media controls or slider, we need to explicitly\n          // blur the element when MediaControls hide. See ENYO-5648\n          var current = _spotlight.Spotlight.getCurrent();\n          var bottomControls = document.querySelector(\".\".concat(_VideoPlayerModule[\"default\"].bottom));\n          if (current && bottomControls && bottomControls.contains(current)) {\n            current.blur();\n          }\n\n          // when in pointer mode, the focus call below will only update the last focused for\n          // the video player and not set the active container to the video player which will\n          // cause focus to land back on the media controls button when spotlight restores\n          // focus.\n          if (_spotlight.Spotlight.getPointerMode()) {\n            _spotlight.Spotlight.setActiveContainer(this.props.spotlightId);\n          }\n\n          // Set focus to the hidden spottable control - maintaining focus on available spottable\n          // controls, which prevents an additional 5-way attempt in order to re-show media controls\n          _spotlight.Spotlight.focus(\".\".concat(_VideoPlayerModule[\"default\"].controlsHandleAbove));\n        }\n      } else if (this.state.mediaControlsVisible && !prevState.mediaControlsVisible) {\n        forwardControlsAvailable({\n          available: true\n        }, this.props);\n        this.startAutoCloseTimeout();\n        if (!this.props.spotlightDisabled) {\n          var _current = _spotlight.Spotlight.getCurrent();\n          if (!_current || this.playerRef.current.contains(_current)) {\n            // Set focus within media controls when they become visible.\n            if (_spotlight.Spotlight.focus(this.mediaControlsSpotlightId) && this.jumpButtonPressed === 0) {\n              this.jumpButtonPressed = null;\n            }\n          }\n        }\n      }\n\n      // Once video starts loading it queues bottom control render until idle\n      if (this.state.bottomControlsRendered && !prevState.bottomControlsRendered && !this.state.mediaControlsVisible) {\n        this.showControls();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      (0, _dispatcher.off)('mousemove', this.activityDetected);\n      if (_platform.platform.touch) {\n        (0, _dispatcher.off)('touchmove', this.activityDetected);\n      }\n      document.removeEventListener('keydown', this.handleGlobalKeyDown, {\n        capture: true\n      });\n      document.removeEventListener('wheel', this.activityDetected, {\n        capture: true\n      });\n      this.stopRewindJob();\n      this.stopAutoCloseTimeout();\n      this.stopDelayedTitleHide();\n      this.stopDelayedFeedbackHide();\n      this.stopDelayedMiniFeedbackHide();\n      this.announceJob.stop();\n      this.renderBottomControl.stop();\n      this.slider5WayPressJob.stop();\n      if (this.floatingLayerController) {\n        this.floatingLayerController.unregister();\n      }\n    }\n  }, {\n    key: \"isTimeBeyondSelection\",\n    value: function isTimeBeyondSelection(time) {\n      var selection = this.props.selection;\n\n      // if selection isn't set or only contains the starting value, there isn't a valid selection\n      // with which to test the time\n      if (selection != null && selection.length >= 2) {\n        var _selection = _slicedToArray(selection, 2),\n          start = _selection[0],\n          end = _selection[1];\n        return time > end || time < start;\n      }\n      return false;\n    }\n  }, {\n    key: \"preventTimeChange\",\n    value: function preventTimeChange(time) {\n      return this.isTimeBeyondSelection(time) && !(0, _handle.forwardWithPrevent)('onSeekOutsideSelection', {\n        type: 'onSeekOutsideSelection',\n        time: time\n      }, this.props);\n    }\n  }, {\n    key: \"getControlsAriaProps\",\n    value: function getControlsAriaProps() {\n      if (this.state.announce === AnnounceState.TITLE) {\n        return {\n          'aria-labelledby': \"\".concat(this.id, \"_mediaTitle_title \").concat(this.id, \"_mediaControls_actionGuide\"),\n          'aria-live': 'off',\n          role: 'alert'\n        };\n      } else if (this.state.announce === AnnounceState.INFO) {\n        return {\n          'aria-labelledby': \"\".concat(this.id, \"_mediaTitle_info\"),\n          role: 'region'\n        };\n      }\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        backButtonAriaLabel = _this$props.backButtonAriaLabel,\n        className = _this$props.className,\n        disabled = _this$props.disabled,\n        infoComponents = _this$props.infoComponents,\n        initialJumpDelay = _this$props.initialJumpDelay,\n        jumpDelay = _this$props.jumpDelay,\n        loading = _this$props.loading,\n        locale = _this$props.locale,\n        mediaControlsComponent = _this$props.mediaControlsComponent,\n        no5WayJump = _this$props.no5WayJump,\n        noAutoPlay = _this$props.noAutoPlay,\n        noMiniFeedback = _this$props.noMiniFeedback,\n        noSlider = _this$props.noSlider,\n        noSpinner = _this$props.noSpinner,\n        selection = _this$props.selection,\n        spotlightDisabled = _this$props.spotlightDisabled,\n        spotlightId = _this$props.spotlightId,\n        style = _this$props.style,\n        thumbnailComponent = _this$props.thumbnailComponent,\n        thumbnailSrc = _this$props.thumbnailSrc,\n        title = _this$props.title,\n        VideoComponent = _this$props.videoComponent,\n        mediaProps = _objectWithoutProperties(_this$props, _excluded2);\n      delete mediaProps.announce;\n      delete mediaProps.autoCloseTimeout;\n      delete mediaProps.children;\n      delete mediaProps.feedbackHideDelay;\n      delete mediaProps.jumpBy;\n      delete mediaProps.miniFeedbackHideDelay;\n      delete mediaProps.noAutoShowMediaControls;\n      delete mediaProps.noMediaSliderFeedback;\n      delete mediaProps.onBack;\n      delete mediaProps.onControlsAvailable;\n      delete mediaProps.onFastForward;\n      delete mediaProps.onJumpBackward;\n      delete mediaProps.onJumpForward;\n      delete mediaProps.onPause;\n      delete mediaProps.onPlay;\n      delete mediaProps.onRewind;\n      delete mediaProps.onWillFastForward;\n      delete mediaProps.onWillJumpBackward;\n      delete mediaProps.onWillJumpForward;\n      delete mediaProps.onWillPause;\n      delete mediaProps.onWillPlay;\n      delete mediaProps.onWillRewind;\n      delete mediaProps.onScrub;\n      delete mediaProps.onSeekFailed;\n      delete mediaProps.onSeekOutsideSelection;\n      delete mediaProps.onToggleMore;\n      delete mediaProps.pauseAtEnd;\n      delete mediaProps.playbackRateHash;\n      delete mediaProps.seekDisabled;\n      delete mediaProps.setApiProvider;\n      delete mediaProps.thumbnailUnavailable;\n      delete mediaProps.titleHideDelay;\n      delete mediaProps.videoPath;\n      mediaProps.autoPlay = !noAutoPlay;\n      mediaProps.className = _VideoPlayerModule[\"default\"].video;\n      mediaProps.controls = false;\n      mediaProps.mediaComponent = 'video';\n      mediaProps.onLoadStart = this.handleLoadStart;\n      mediaProps.onUpdate = this.handleEvent;\n      mediaProps.ref = this.setVideoRef;\n      var controlsAriaProps = this.getControlsAriaProps();\n      var proportionSelection = selection;\n      if (proportionSelection != null && this.state.duration) {\n        proportionSelection = selection.map(function (t) {\n          return t / _this2.state.duration;\n        });\n      }\n      var durFmt = getDurFmt(locale);\n      var controlsHandleAboveHoldConfig = getControlsHandleAboveHoldConfig({\n        frequency: jumpDelay,\n        time: initialJumpDelay\n      });\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(RootContainer, {\n        className: _VideoPlayerModule[\"default\"].videoPlayer + ' enact-fit' + (className ? ' ' + className : ''),\n        onClick: this.activityDetected,\n        ref: this.playerRef,\n        spotlightDisabled: spotlightDisabled,\n        spotlightId: spotlightId,\n        style: style,\n        children: [\n        // Duplicating logic from <ComponentOverride /> until enzyme supports forwardRef\n        VideoComponent && ((typeof VideoComponent === 'function' || typeof VideoComponent === 'string') && /*#__PURE__*/(0, _jsxRuntime.jsx)(VideoComponent, _objectSpread({}, mediaProps)) || /*#__PURE__*/(0, _react.isValidElement)(VideoComponent) && /*#__PURE__*/(0, _react.cloneElement)(VideoComponent, mediaProps)) || null, /*#__PURE__*/(0, _jsxRuntime.jsx)(_Overlay[\"default\"], {\n          bottomControlsVisible: this.state.mediaControlsVisible,\n          onClick: this.onVideoClick,\n          children: !noSpinner && (this.state.loading || loading) ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spinner[\"default\"], {\n            centered: true\n          }) : null\n        }), this.state.bottomControlsRendered ? /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", _objectSpread(_objectSpread({\n          className: _VideoPlayerModule[\"default\"].fullscreen\n        }, controlsAriaProps), {}, {\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_FeedbackContent[\"default\"], {\n            className: _VideoPlayerModule[\"default\"].miniFeedback,\n            playbackRate: this.pulsedPlaybackRate || this.selectPlaybackRate(this.speedIndex),\n            playbackState: this.pulsedPlaybackState || this.prevCommand,\n            visible: this.state.miniFeedbackVisible && !noMiniFeedback,\n            children: (0, _MediaPlayer.secondsToTime)(this.state.sliderTooltipTime, durFmt)\n          }), this.state.mediaControlsVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button[\"default\"], {\n            \"aria-label\": backButtonAriaLabel == null ? (0, _$L[\"default\"])('go to previous') : backButtonAriaLabel,\n            className: _VideoPlayerModule[\"default\"].back,\n            icon: \"arrowhookleft\",\n            iconFlip: \"auto\",\n            onClick: this.handleBack,\n            size: \"small\"\n          }) : null, /*#__PURE__*/(0, _jsxRuntime.jsxs)(ControlsContainer, {\n            className: _VideoPlayerModule[\"default\"].bottom + (this.state.mediaControlsVisible ? '' : ' ' + _VideoPlayerModule[\"default\"].hidden) + (this.state.infoVisible ? ' ' + _VideoPlayerModule[\"default\"].lift : ''),\n            spotlightDisabled: spotlightDisabled || !this.state.mediaControlsVisible,\n            children: [this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n              className: _VideoPlayerModule[\"default\"].infoFrame,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaTitle[\"default\"], {\n                id: \"\".concat(this.id, \"_mediaTitle\"),\n                infoVisible: this.state.infoVisible,\n                ref: this.setTitleRef,\n                title: title,\n                visible: this.state.titleVisible && this.state.mediaControlsVisible,\n                children: infoComponents\n              }), noSlider ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                current: this.state.currentTime,\n                total: this.state.duration,\n                formatter: durFmt\n              }) : null]\n            }) : null, noSlider ? null : /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n              className: _VideoPlayerModule[\"default\"].sliderContainer,\n              children: [this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                noTotalTime: true,\n                current: this.state.currentTime,\n                formatter: durFmt\n              }) : null, /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.MediaSlider, {\n                backgroundProgress: this.state.proportionLoaded,\n                disabled: disabled || this.state.sourceUnavailable,\n                forcePressed: this.state.slider5WayPressed,\n                onBlur: this.handleSliderBlur,\n                onChange: this.onSliderChange,\n                onFocus: this.handleSliderFocus,\n                onKeyDown: this.handleSliderKeyDown,\n                onKnobMove: this.handleKnobMove,\n                selection: proportionSelection,\n                spotlightDisabled: spotlightDisabled || !this.state.mediaControlsVisible,\n                value: this.state.proportionPlayed,\n                visible: this.state.mediaSliderVisible,\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_FeedbackTooltip[\"default\"], {\n                  action: this.state.feedbackAction,\n                  duration: this.state.duration,\n                  formatter: durFmt,\n                  hidden: !this.state.feedbackVisible || this.state.sourceUnavailable,\n                  playbackRate: this.selectPlaybackRate(this.speedIndex),\n                  playbackState: this.prevCommand,\n                  thumbnailComponent: thumbnailComponent,\n                  thumbnailDeactivated: this.props.thumbnailUnavailable,\n                  thumbnailSrc: thumbnailSrc\n                })\n              }), this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                noCurrentTime: true,\n                total: this.state.duration,\n                formatter: durFmt\n              }) : null]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_ComponentOverride[\"default\"], {\n              component: mediaControlsComponent,\n              id: \"\".concat(this.id, \"_mediaControls\"),\n              initialJumpDelay: initialJumpDelay,\n              jumpDelay: jumpDelay,\n              mediaDisabled: disabled || this.state.sourceUnavailable,\n              no5WayJump: no5WayJump,\n              onClose: this.handleMediaControlsClose,\n              onFastForward: this.handleFastForward,\n              onJumpBackwardButtonClick: this.onJumpBackward,\n              onJumpForwardButtonClick: this.onJumpForward,\n              onPause: this.handlePause,\n              onPlay: this.handlePlay,\n              onRewind: this.handleRewind,\n              onToggleMore: this.handleToggleMore,\n              paused: this.state.paused,\n              spotlightId: this.mediaControlsSpotlightId,\n              spotlightDisabled: !this.state.mediaControlsVisible || spotlightDisabled,\n              visible: this.state.mediaControlsVisible\n            })]\n          })]\n        })) : null, /*#__PURE__*/(0, _jsxRuntime.jsx)(SpottableDiv\n        // This captures spotlight focus for use with 5-way.\n        // It's non-visible but lives at the top of the VideoPlayer.\n        , {\n          className: _VideoPlayerModule[\"default\"].controlsHandleAbove,\n          holdConfig: controlsHandleAboveHoldConfig,\n          onDown: this.handleControlsHandleAboveDown,\n          onHold: this.handleControlsHandleAboveHold,\n          onKeyDown: this.handleControlsHandleAboveKeyDown,\n          onKeyUp: this.handleControlsHandleAboveKeyUp,\n          onSpotlightDown: this.showControls,\n          selectionKeys: controlsHandleAboveSelectionKeys,\n          spotlightDisabled: this.state.mediaControlsVisible || spotlightDisabled\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Announce[\"default\"], {\n          ref: this.setAnnounceRef\n        })]\n      });\n    }\n  }]);\n  return VideoPlayerBase;\n}(_react.Component), _class.displayName = 'VideoPlayerBase', _class.propTypes = /** @lends sandstone/VideoPlayer.VideoPlayerBase.prototype */{\n  /**\n   * passed by AnnounceDecorator for accessibility\n   *\n   * @type {Function}\n   * @private\n   */\n  announce: _propTypes2[\"default\"].func,\n  /**\n   * The time (in milliseconds) before the control buttons will hide.\n   *\n   * Setting this to 0 or `null` disables closing, requiring user input to open and close.\n   *\n   * @type {Number}\n   * @default 5000\n   * @public\n   */\n  autoCloseTimeout: _propTypes2[\"default\"].number,\n  /**\n   * Sets the hint string read when focusing the back button.\n   *\n   * @type {String}\n   * @default 'go to previous'\n   * @public\n   */\n  backButtonAriaLabel: _propTypes2[\"default\"].string,\n  /**\n   * Removes interactive capability from this component. This includes, but is not limited to,\n   * key-press events, most clickable buttons, and prevents the showing of the controls.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  disabled: _propTypes2[\"default\"].bool,\n  /**\n   * Amount of time (in milliseconds) after which the feedback text/icon part of the slider's\n   * tooltip will automatically hidden after the last action.\n   * Setting this to 0 or `null` disables feedbackHideDelay; feedback will always be present.\n   *\n   * @type {Number}\n   * @default 3000\n   * @public\n   */\n  feedbackHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Components placed below the title.\n   *\n   * Typically these will be media descriptor icons, like how many audio channels, what codec\n   * the video uses, but can also be a description for the video or anything else that seems\n   * appropriate to provide information about the video to the user.\n   *\n   * @type {Node}\n   * @public\n   */\n  infoComponents: _propTypes2[\"default\"].node,\n  /**\n   * The number of milliseconds that the player will pause before firing the\n   * first jump event on a right or left pulse.\n   *\n   * @type {Number}\n   * @default 400\n   * @public\n   */\n  initialJumpDelay: _propTypes2[\"default\"].number,\n  /**\n   * The number of seconds the player should skip forward or backward when a \"jump\" button is\n   * pressed.\n   *\n   * @type {Number}\n   * @default 30\n   * @public\n   */\n  jumpBy: _propTypes2[\"default\"].number,\n  /**\n   * The number of milliseconds that the player will throttle before firing a\n   * jump event on a right or left pulse.\n   *\n   * @type {Number}\n   * @default 200\n   * @public\n   */\n  jumpDelay: _propTypes2[\"default\"].number,\n  /**\n   * Manually set the loading state of the media, in case you have information that\n   * `VideoPlayer` does not have.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  loading: _propTypes2[\"default\"].bool,\n  /**\n   * The current locale as a\n   * {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}.\n   *\n   * @type {String}\n   * @public\n   */\n  locale: _propTypes2[\"default\"].string,\n  /**\n   * Overrides the default media control component to support customized behaviors.\n   *\n   * The provided component will receive the following props from `VideoPlayer`:\n   *\n   * * `initialJumpDelay` - Time (in ms) to wait before starting a jump\n   * * `jumpDelay` -  - Time (in ms) to wait between jumps\n   * * `mediaDisabled` - `true` when the media controls are not interactive\n   * * `no5WayJump` - `true` when 5-way jumping is disabled\n   * * `onClose` - Called when cancel key is pressed when the media controls are visible\n   * * `onFastForward` - Called when the media is fast forwarded via a key event\n   * * `onJump` - Called when the media jumps either forward or backward\n   * * `onJumpBackwardButtonClick` - Called when the jump backward button is pressed\n   * * `onJumpForwardButtonClick` - Called when the jump forward button is pressed\n   * * `onKeyDown` - Called when a key is pressed\n   * * `onPause` - Called when the media is paused via a key event\n   * * `onPlay` - Called when the media is played via a key event\n   * * `onRewind` - Called when the media is rewound via a key event\n   * * `onToggleMore` - Called when the more components are hidden or shown\n   * * `paused` - `true` when the media is paused\n   * * `spotlightId` - The spotlight container Id for the media controls\n   * * `spotlightDisabled` - `true` when spotlight is disabled for the media controls\n   * * `visible` - `true` when the media controls should be displayed\n   *\n   * @type {Component|Element}\n   * @default sandstone/MediaPlayer.MediaControls\n   * @public\n   */\n  mediaControlsComponent: _propTypes[\"default\"].componentOverride,\n  /**\n   * Amount of time (in milliseconds), after the last user action, that the `miniFeedback`\n   * will automatically hide.\n   * Setting this to 0 or `null` disables `miniFeedbackHideDelay`; `miniFeedback` will always\n   * be present.\n   *\n   * @type {Number}\n   * @default 2000\n   * @public\n   */\n  miniFeedbackHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Disable audio for this video.\n   *\n   * In a TV context, this is handled by the remote control, not programmatically in the\n   * VideoPlayer API.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  muted: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of using left and right keys for seeking.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  no5WayJump: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of playing a video immediately after it's loaded.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noAutoPlay: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of showing media controls immediately after it's loaded.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noAutoShowMediaControls: _propTypes2[\"default\"].bool,\n  /**\n   * Hides media slider feedback when fast forward or rewind while media controls are hidden.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noMediaSliderFeedback: _propTypes2[\"default\"].bool,\n  /**\n   * Removes the mini feedback.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noMiniFeedback: _propTypes2[\"default\"].bool,\n  /**\n   * Removes the media slider.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noSlider: _propTypes2[\"default\"].bool,\n  /**\n   * Removes spinner while loading.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  noSpinner: _propTypes2[\"default\"].bool,\n  /**\n   * Called when the back button is clicked.\n   *\n   * @type {Function}\n   * @public\n   */\n  onBack: _propTypes2[\"default\"].func,\n  /**\n   * Called when the player's controls change availability, whether they are shown\n   * or hidden.\n   *\n   * The current status is sent as the first argument in an object with a key `available`\n   * which will be either `true` or `false`. (e.g.: `onControlsAvailable({available: true})`)\n   *\n   * @type {Function}\n   * @public\n   */\n  onControlsAvailable: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been fast forwarded.\n   *\n   * @type {Function}\n   * @public\n   */\n  onFastForward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user clicks the JumpBackward button.\n   *\n   * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n   *\n   * @type {Function}\n   * @public\n   */\n  onJumpBackward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user clicks the JumpForward button.\n   *\n   * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n   *\n   * @type {Function}\n   * @public\n   */\n  onJumpForward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been paused.\n   *\n   * @type {Function}\n   * @public\n   */\n  onPause: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been played.\n   *\n   * @type {Function}\n   * @public\n   */\n  onPlay: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been rewound.\n   *\n   * @type {Function}\n   * @public\n   */\n  onRewind: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user is moving the VideoPlayer's Slider knob independently of\n   * the current playback position.\n   *\n   * It is passed an object with a `seconds` key (float value) to indicate the current time\n   * index. It can be used to update the `thumbnailSrc` to the reflect the current scrub\n   * position.\n   *\n   * @type {Function}\n   * @public\n   */\n  onScrub: _propTypes2[\"default\"].func,\n  /**\n   * Called when seek is attempted while `seekDisabled` is true.\n   *\n   * @type {Function}\n   */\n  onSeekFailed: _propTypes2[\"default\"].func,\n  /**\n   * Called when seeking outside of the current `selection` range.\n   *\n   * By default, the seek will still be performed. Calling `preventDefault()` on the event\n   * will prevent the seek operation.\n   *\n   * @type {Function}\n   * @public\n   */\n  onSeekOutsideSelection: _propTypes2[\"default\"].func,\n  /**\n   * Called when the visibility of more components is changed\n   *\n   * Event payload includes:\n   *\n   * * `type` - Type of event, `'onToggleMore'`\n   * * `showMoreComponents` - `true` when the components are visible`\n   * * `liftDistance` - The distance, in pixels, the component animates\n   *`\n   * @type {Function}\n   * @public\n   */\n  onToggleMore: _propTypes2[\"default\"].func,\n  /**\n   * Called once before the video is forwarded.\n   *\n   * @type {Function}\n   * @public\n   */\n  onWillFastForward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is jump backwarded.\n    *\n    * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillJumpBackward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is jump forwarded.\n    *\n    * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillJumpForward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is paused.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillPause: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is played\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillPlay: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is rewound.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillRewind: _propTypes2[\"default\"].func,\n  /**\n   * Pauses the video when it reaches either the start or the end of the video during rewind,\n   * slow rewind, fast forward, or slow forward.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  pauseAtEnd: _propTypes2[\"default\"].bool,\n  /**\n   * Mapping of playback rate names to playback rate values that may be set.\n   *\n   * @type {sandstone/VideoPlayer.playbackRateHash}\n   * @default {\n   *\tfastForward: ['2', '4', '8', '16'],\n   *\trewind: ['-2', '-4', '-8', '-16'],\n   *\tslowForward: ['1/4', '1/2'],\n   *\tslowRewind: ['-1/2', '-1']\n   * }\n   * @public\n   */\n  playbackRateHash: _propTypes2[\"default\"].shape({\n    fastForward: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    rewind: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    slowForward: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    slowRewind: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number]))\n  }),\n  /**\n   * Disables seek function.\n   *\n   * Note that jump by arrow keys will also be disabled when `true`.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  seekDisabled: _propTypes2[\"default\"].bool,\n  /**\n   * A range of the video to display as selected.\n   *\n   * The value of `selection` may either be:\n   * * `null` or `undefined` for no selection,\n   * * a single-element array with the start time of the selection\n   * * a two-element array containing both the start and end time of the selection in seconds\n   *\n   * When the start time is specified, the media slider will show filled starting at that\n   * time to the current time.\n   *\n   * When the end time is specified, the slider's background will be filled between the two\n   * times.\n   *\n   * @type {Number[]}\n   * @public\n   */\n  selection: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].number),\n  /**\n   * Registers the VideoPlayer component with an\n   * {@link core/internal/ApiDecorator.ApiDecorator}.\n   *\n   * @type {Function}\n   * @private\n   */\n  setApiProvider: _propTypes2[\"default\"].func,\n  /**\n   * The video source.\n   *\n   * Any children `<source>` tag elements of {@link sandstone/VideoPlayer|VideoPlayer} will\n   * be sent directly to the `videoComponent` as video sources.\n   *\n   * @type {Node}\n   * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source\n   * @public\n   */\n  source: _propTypes2[\"default\"].node,\n  /**\n   * Disables spotlight navigation into the component.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  spotlightDisabled: _propTypes2[\"default\"].bool,\n  /**\n   * The spotlight container ID for the player.\n   *\n   * @type {String}\n   * @public\n   * @default 'videoPlayer'\n   */\n  spotlightId: _propTypes2[\"default\"].string,\n  /**\n   * The thumbnail component to be used instead of the built-in version.\n   *\n   * The internal thumbnail style will not be applied to this component. This component\n   * follows the same rules as the built-in version.\n   *\n   * @type {String|Component|Element}\n   * @public\n   */\n  thumbnailComponent: _propTypes[\"default\"].renderableOverride,\n  /**\n   * Thumbnail image source to show on the slider knob.\n   *\n   * This is a standard {@link sandstone/Image} component so it supports all of the same\n   * options for the `src` property. If no `thumbnailComponent` and no `thumbnailSrc` is set,\n   * no tooltip will display.\n   *\n   * @type {String|Object}\n   * @public\n   */\n  thumbnailSrc: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].object]),\n  /**\n  * Enables the thumbnail transition from opaque to translucent.\n  *\n  * @type {Boolean}\n  * @public\n  */\n  thumbnailUnavailable: _propTypes2[\"default\"].bool,\n  /**\n   * Title for the video being played.\n   *\n   * @type {String|Node}\n   * @public\n   */\n  title: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].node]),\n  /**\n   * The time (in milliseconds) before the title disappears from the controls.\n   *\n   * Setting this to `0` disables hiding.\n   *\n   * @type {Number}\n   * @default 5000\n   * @public\n   */\n  titleHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Video component to use.\n   *\n   * The default renders an `HTMLVideoElement`. Custom video components must have a similar\n   * API structure, exposing the following APIs:\n   *\n   * Properties:\n   * * `currentTime` {Number} - Playback index of the media in seconds\n   * * `duration` {Number} - Media's entire duration in seconds\n   * * `error` {Boolean} - `true` if video playback has errored.\n   * * `loading` {Boolean} - `true` if video playback is loading.\n   * * `paused` {Boolean} - Playing vs paused state. `true` means the media is paused\n   * * `playbackRate` {Number} - Current playback rate, as a number\n   * * `proportionLoaded` {Number} - A value between `0` and `1`\n   *\trepresenting the proportion of the media that has loaded\n   * * `proportionPlayed` {Number} - A value between `0` and `1` representing the\n   *\tproportion of the media that has already been shown\n   *\n   * Events:\n   * * `onLoadStart` - Called when the video starts to load\n   * * `onUpdate` - Sent when any of the properties were updated\n   *\n   * Methods:\n   * * `play()` - play video\n   * * `pause()` - pause video\n   * * `load()` - load video\n   *\n   * The {@link sandstone/VideoPlayer.Video.source|source} property is passed to\n   * the video component as a child node.\n   *\n   * @type {Component|Element}\n   * @default {@link ui/Media.Media}\n   * @public\n   */\n  videoComponent: _propTypes[\"default\"].componentOverride\n}, _class.contextType = _FloatingLayerDecorator.FloatingLayerContext, _class.defaultProps = {\n  autoCloseTimeout: 5000,\n  feedbackHideDelay: 3000,\n  initialJumpDelay: 400,\n  jumpBy: 30,\n  jumpDelay: 200,\n  mediaControlsComponent: _MediaPlayer.MediaControls,\n  miniFeedbackHideDelay: 2000,\n  playbackRateHash: {\n    fastForward: ['2', '4', '8', '16'],\n    rewind: ['-2', '-4', '-8', '-16'],\n    slowForward: ['1/4', '1/2'],\n    slowRewind: ['-1/2', '-1']\n  },\n  spotlightId: 'videoPlayer',\n  titleHideDelay: 5000,\n  videoComponent: _Media[\"default\"]\n}, _class);\n\n/**\n * A standard HTML5 video player for Sandstone. It behaves, responds to, and operates like a\n * `<video>` tag in its support for `<source>`.  It also accepts custom tags such as\n * `<infoComponents>` for displaying additional information in the title area and `<MediaControls>`\n * for handling media playback controls and adding more controls.\n *\n * Example usage:\n * ```\n *\t<VideoPlayer title=\"Hilarious Cat Video\" poster=\"http://my.cat.videos/boots-poster.jpg\">\n *\t\t<source src=\"http://my.cat.videos/boots.mp4\" type=\"video/mp4\" />\n *\t\t<infoComponents>A video about my cat Boots, wearing boots.</infoComponents>\n *\t\t<MediaControls>\n *\t\t\t<leftComponents><Button backgroundOpacity=\"translucent\" icon=\"star\" /></leftComponents>\n *\t\t\t<rightComponents><Button backgroundOpacity=\"translucent\" icon=\"notification\" /></rightComponents>\n *\n *\t\t\t<Button backgroundOpacity=\"translucent\">Add To Favorites</Button>\n *\t\t\t<Button backgroundOpacity=\"translucent\" icon=\"search\" />\n *\t\t</MediaControls>\n *\t</VideoPlayer>\n * ```\n *\n * To invoke methods (e.g.: `fastForward()`) or get the current state (`getMediaState()`), store a\n * ref to the `VideoPlayer` within your component:\n *\n * ```\n * \t...\n *\n * \tsetVideoPlayer = (node) => {\n * \t\tthis.videoPlayer = node;\n * \t}\n *\n * \tplay () {\n * \t\tthis.videoPlayer.play();\n * \t}\n *\n * \trender () {\n * \t\treturn (\n * \t\t\t<VideoPlayer ref={this.setVideoPlayer} />\n * \t\t);\n * \t}\n * ```\n *\n * @class VideoPlayer\n * @memberof sandstone/VideoPlayer\n * @mixes ui/Slottable.Slottable\n * @ui\n * @public\n */\nexports.VideoPlayerBase = VideoPlayerBase;\nvar VideoPlayer = (0, _ApiDecorator[\"default\"])({\n  api: ['areControlsVisible', 'fastForward', 'getMediaState', 'getVideoNode', 'hideControls', 'jump', 'pause', 'play', 'rewind', 'seek', 'showControls', 'showFeedback', 'toggleControls']\n}, (0, _I18nDecorator.I18nContextDecorator)({\n  localeProp: 'locale'\n}, (0, _Slottable[\"default\"])({\n  slots: ['infoComponents', 'mediaControlsComponent', 'source', 'thumbnailComponent', 'videoComponent']\n}, (0, _FloatingLayer.FloatingLayerDecorator)({\n  floatLayerId: 'videoPlayerFloatingLayer'\n}, (0, _Skinnable[\"default\"])(VideoPlayerBase)))));\nexports.VideoPlayer = VideoPlayer;\nvar _default = VideoPlayer;\nexports[\"default\"] = _default;"],"mappings":"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B,IAAI;EACpC;AACF;AACA;AACA;AACA;AACA;AACA;EACE/W,MAAM,EAAExL,WAAW,CAAC,SAAS,CAAC,CAACsiB,MAAM;EACrC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACExF,sBAAsB,EAAE9d,UAAU,CAAC,SAAS,CAAC,CAACwjB,iBAAiB;EAC/D;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEtR,qBAAqB,EAAElR,WAAW,CAAC,SAAS,CAAC,CAACqiB,MAAM;EACpD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEI,KAAK,EAAEziB,WAAW,CAAC,SAAS,CAAC,CAACuiB,IAAI;EAClC;AACF;AACA;AACA;AACA;AACA;EACEhZ,UAAU,EAAEvJ,WAAW,CAAC,SAAS,CAAC,CAACuiB,IAAI;EACvC;AACF;AACA;AACA;AACA;AACA;AACA;EACExQ,UAAU,EAAE/R,WAAW,CAAC,SAAS,CAAC,CAACuiB,IAAI;EACvC;AACF;AACA;AACA;AACA;AACA;AACA;EACEnQ,uBAAuB,EAAEpS,WAAW,CAAC,SAAS,CAAC,CAACuiB,IAAI;EACpD;AACF;AACA;AACA;AACA;AACA;AACA;EACEzR,qBAAqB,EAAE9Q,WAAW,CAAC,SAAS,CAAC,CAACuiB,IAAI;EAClD;AACF;AACA;AACA;AACA;AACA;AACA;EACExF,cAAc,EAAE/c,WAAW,CAAC,SAAS,CAAC,CAACuiB,IAAI;EAC3C;AACF;AACA;AACA;AACA;AACA;AACA;EACEvF,QAAQ,EAAEhd,WAAW,CAAC,SAAS,CAAC,CAACuiB,IAAI;EACrC;AACF;AACA;AACA;AACA;AACA;EACEtF,SAAS,EAAEjd,WAAW,CAAC,SAAS,CAAC,CAACuiB,IAAI;EACtC;AACF;AACA;AACA;AACA;AACA;EACE9E,MAAM,EAAEzd,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EACnC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE1E,mBAAmB,EAAE1d,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EAChD;AACF;AACA;AACA;AACA;AACA;EACEzE,aAAa,EAAE3d,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EAC1C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEtJ,cAAc,EAAE9Y,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EAC3C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACErJ,aAAa,EAAE/Y,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EAC1C;AACF;AACA;AACA;AACA;AACA;EACExE,OAAO,EAAE5d,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EACpC;AACF;AACA;AACA;AACA;AACA;EACEvE,MAAM,EAAE7d,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EACnC;AACF;AACA;AACA;AACA;AACA;EACEtE,QAAQ,EAAE9d,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EACrC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE/D,OAAO,EAAEre,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EACpC;AACF;AACA;AACA;AACA;EACE9D,YAAY,EAAEte,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EACzC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE7D,sBAAsB,EAAEve,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EACnD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE5D,YAAY,EAAExe,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EACzC;AACF;AACA;AACA;AACA;AACA;EACErE,iBAAiB,EAAE/d,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EAC9C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEpE,kBAAkB,EAAEhe,WAAW,CAAC,SAAS,CAAC,CAACoiB,IAAI;EAC/C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"},"metadata":{},"sourceType":"module","externalDependencies":[]}